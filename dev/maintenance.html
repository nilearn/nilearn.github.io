
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

<meta property="og:title" content="Nilearn maintenance process" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://nilearn.github.io/maintenance.html" />
  
<meta property="og:site_name" content="Nilearn" />
  
<meta property="og:description" content="Project Organization- Issues, Pull Requests., How to make a release?- Prepare code for the release, Prepare the release, Build the distributions and upload them to Pypi, Build and deploy the docume..." />
  
<meta property="og:image" content="https://nilearn.github.io/_static/nilearn-logo.png" />
  
<meta property="og:image:alt" content="Nilearn" />
  
    <title>Nilearn: Statistical Analysis for NeuroImaging in Python &#8212; Machine learning for NeuroImaging</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Nilearn development process" href="development.html" />
<meta content="True" name="HandheldFriendly">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="keywords" content="nilearn, neuroimaging, python, neuroscience, machinelearning">


<script type="text/javascript">
function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});
</script>
<script type="text/javascript">
function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});
</script>


<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

  </head><body>
<div id="logo-banner">
  <div class="logo">
    <a href="index.html">
      <img src="_static/nilearn-logo.png" alt="Nilearn logo"  border="0" />
    </a>
  </div>
  <!-- A tag cloud to make it easy for people to find what they are
                         looking for -->
 <div class="tags">
  <ul>
    <li>
      <big><a href="auto_examples/decoding/plot_haxby_anova_svm.html">SVM</a></big>
    </li>
    <li>
      <small><a href="connectivity/parcellating.html">Ward
          clustering</a></small>
    </li>
    <li>
      <a href="decoding/searchlight.html">Searchlight</a>
    </li>
    <li>
      <big><a href="connectivity/resting_state_networks.html">ICA</a></big>
    </li>
    <li>
      <a href="manipulating_images/data_preparation.html">Nifti IO</a>
    </li>
    <li>
      <a href="modules/reference.html#module-nilearn.datasets">Datasets</a>
    </li>
  </ul>
 </div>

  <div class="banner">
    <h1>Nilearn:</h1>
    <h2>Statistics for NeuroImaging in Python</h2>
  </div>
  <div class="search_form">
    <div class="gcse-search" id="cse" style="width: 100%;"></div>
    <script>
      (function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
  </div>
</div>



<div class=related-wrapper>
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="development.html" title="Nilearn development process"
             accesskey="P">previous</a> |</li>
<li><a href="index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="authors.html">About</a>|&nbsp;</li>
<li><a href="glossary.html">Glossary</a>|&nbsp;</li>
<li><a href="bibliography.html">Bibliography</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

        <li class="nav-item nav-item-this"><a href="">Nilearn: Statistical Analysis for NeuroImaging in Python</a></li> 
      </ul>
    </div>
</div>

<div class="devel-alert-banner">
This is documentation for the <em>unstable development version</em> of Nilearn,
the current stable version is available <a href="https://nilearn.github.io/stable/index.html">here</a>.
</div>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="nilearn-maintenance-process">
<span id="maintenance-process"></span><h1>Nilearn maintenance process<a class="headerlink" href="#nilearn-maintenance-process" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#project-organization" id="id6">Project Organization</a></p>
<ul>
<li><p><a class="reference internal" href="#issues" id="id7">Issues</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id8">Pull Requests</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#how-to-make-a-release" id="id9">How to make a release?</a></p>
<ul>
<li><p><a class="reference internal" href="#prepare-code-for-the-release" id="id10">Prepare code for the release</a></p></li>
<li><p><a class="reference internal" href="#prepare-the-release" id="id11">Prepare the release</a></p></li>
<li><p><a class="reference internal" href="#build-the-distributions-and-upload-them-to-pypi" id="id12">Build the distributions and upload them to Pypi</a></p></li>
<li><p><a class="reference internal" href="#build-and-deploy-the-documentation" id="id13">Build and deploy the documentation</a></p></li>
<li><p><a class="reference internal" href="#post-release" id="id14">Post-release</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="project-organization">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Project Organization</a><a class="headerlink" href="#project-organization" title="Permalink to this heading">¶</a></h2>
<p>This section describes how the project is organized.</p>
<section id="issues">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Issues</a><a class="headerlink" href="#issues" title="Permalink to this heading">¶</a></h3>
<p>Nilearn uses <a class="reference external" href="https://github.com/nilearn/nilearn/issues">issues</a> for
tracking bugs, requesting potential features, and holding project discussions.</p>
<section id="labels">
<span id="issue-labels"></span><h4>Labels<a class="headerlink" href="#labels" title="Permalink to this heading">¶</a></h4>
<p><a class="reference external" href="https://github.com/nilearn/nilearn/labels">Labels</a> are useful to
quickly sort <a class="reference external" href="https://github.com/nilearn/nilearn/issues">issues</a>
and easily find what you are looking for in the issue tracker.</p>
<p>When <a class="reference external" href="https://github.com/nilearn/nilearn/issues/new/choose">creating an issue</a>, the user
is responsible for a very basic labeling categorizing the issue:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="Bug" src="https://img.shields.io/badge/-Bug-fc2929.svg" /> for bug reports.</p></li>
<li><p><img alt="Documentation" src="https://img.shields.io/badge/-Documentation-5319e7.svg" /> for documentation related questions or requests.</p></li>
<li><p><img alt="Enhancement" src="https://img.shields.io/badge/-Enhancement-fbca04.svg" /> for feature requests.</p></li>
</ul>
</div></blockquote>
<p>First of all, the user might have mislabeled the issue, in which case a member
of the <a class="reference internal" href="authors.html#core-devs"><span class="std std-ref">Core developers</span></a> team or <a class="reference internal" href="authors.html#triage"><span class="std std-ref">Triage team</span></a> needs to correct the labels.</p>
<p>In addition to these basic labels, we have many more labels which describes
in more detail a given issue. First, we try to describe the <strong>estimated amount
of work</strong> required to solve each issue:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="effort: high" src="https://img.shields.io/badge/-effort:%20high-e26051.svg" /> The issue is likely to require a serious amount of work (more than a couple of days).</p></li>
<li><p><img alt="effort: medium" src="https://img.shields.io/badge/-effort:%20medium-ddad1a.svg" /> The issue is likely to require a decent amount of work (in between a few hours and a couple days).</p></li>
<li><p><img alt="effort: low" src="https://img.shields.io/badge/-effort:%20low-77c940.svg" /> The issue is likely to require a small amount of work (less than a few hours).</p></li>
</ul>
</div></blockquote>
<p>We also try to quantify the <strong>estimated impact</strong> of the proposed change on the project:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="impact: high" src="https://img.shields.io/badge/-impact:%20high-1f1dc1.svg" /> Solving this issue will have a high impact on the project.</p></li>
<li><p><img alt="impact: medium" src="https://img.shields.io/badge/-impact:%20medium-bac1fc.svg" /> Solving this issue will have a decent impact on the project.</p></li>
<li><p><img alt="impact: low" src="https://img.shields.io/badge/-impact:%20low-75eae6.svg" /> Solving this issue will have a small impact on the project.</p></li>
</ul>
</div></blockquote>
<p>Finally, we also indicate the <strong>priority level</strong> of the issue:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="priority: high" src="https://img.shields.io/badge/-priority:%20high-9e2409.svg" /> The task is urgent and needs to be addressed as soon as possible.</p></li>
<li><p><img alt="priority: medium" src="https://img.shields.io/badge/-priority:%20medium-FBCA04.svg" /> The task is important but not urgent and should be addressed over the next few months.</p></li>
<li><p><img alt="priority: low" src="https://img.shields.io/badge/-priority:%20low-c5def5.svg" /> The task is not urgent and can be delayed.</p></li>
</ul>
</div></blockquote>
<p>Some issues—particular those which are low effort and low to medium priority—can serve as good starting project for
new contributors. We label these issues with the <img alt="Good first issue" src="https://img.shields.io/badge/-Good%20first%20issue-c7def8.svg" /> label
which can be seen as an equivalent to a “very low effort” label. Because of
this, good first issues do not require a separate effort label.</p>
<p>Other labels can be used to describe further the topic of the issue:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="API" src="https://img.shields.io/badge/-API-fef2c0.svg" /> This issue is related to the Nilearn’s API.</p></li>
<li><p><img alt="code quality" src="https://img.shields.io/badge/-code%20quality-09ef5a.svg" /> This issue tackles code quality (code refactoring, PEP8…).</p></li>
<li><p><img alt="Datasets" src="https://img.shields.io/badge/-Datasets-fad8c7.svg" /> This issue is related to datasets or the <a class="reference internal" href="modules/reference.html#module-nilearn.datasets" title="nilearn.datasets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nilearn.datasets</span></code></a> module.</p></li>
<li><p><img alt="Discussion" src="https://img.shields.io/badge/-Discussion-bfe5bf.svg" /> This issue is used to hold a general discussion on a specific topic where community feedback is desired (no need to specify effort, priority, or impact here).</p></li>
<li><p><img alt="GLM" src="https://img.shields.io/badge/-GLM-fce1c4.svg" /> This issue is related to the <a class="reference internal" href="modules/reference.html#module-nilearn.glm" title="nilearn.glm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nilearn.glm</span></code></a> module.</p></li>
<li><p><img alt="Infrastructure" src="https://img.shields.io/badge/-Infrastructure-0052cc.svg" /> This issue describes a problem with the project’s infrastructure (CI/CD…).</p></li>
<li><p><img alt="Installation" src="https://img.shields.io/badge/-Installation-ba7030.svg" /> The issue describes a problem with the installation of Nilearn.</p></li>
<li><p><img alt="Maintenance" src="https://img.shields.io/badge/-Maintenance-fc918f.svg" /> This issue is related to maintenance work.</p></li>
<li><p><img alt="Plotting" src="https://img.shields.io/badge/-Plotting-5319e7.svg" /> The issue is related to plotting functionalities.</p></li>
<li><p><img alt="Testing" src="https://img.shields.io/badge/-Testing-50bac4.svg" /> The issue is related to testing.</p></li>
<li><p><img alt="Usage" src="https://img.shields.io/badge/-Usage-e99695.svg" /> This issue is a usage question and should have been posted on <a class="reference external" href="https://neurostars.org/">neurostars</a>.</p></li>
</ul>
</div></blockquote>
<p>Finally, we use the following labels to indicate how the work on the issue
is going:</p>
<blockquote>
<div><ul class="simple">
<li><p><img alt="in progress" src="https://img.shields.io/badge/-in%20progress-ededed.svg" /> Can be used to indicate that this issue is currently being investigated.</p></li>
<li><p><img alt="next-release" src="https://img.shields.io/badge/-next--release-55c11f.svg" /> Commonly used for tagging PRs, this can be used to indicate that this issue should be solved before the next release.</p></li>
<li><p><img alt="stalled" src="https://img.shields.io/badge/-stalled-c2e0c6.svg" /> This issue is currently stalled and has no recent activity. Use this label before closing due to inactivity.</p></li>
</ul>
</div></blockquote>
</section>
<section id="closing-policy">
<span id="id4"></span><h4>Closing policy<a class="headerlink" href="#closing-policy" title="Permalink to this heading">¶</a></h4>
<p>Usually we expect the issue’s author to close the issue, but there are several
possible reasons for a community member to close an issue:</p>
<blockquote>
<div><ul class="simple">
<li><p>The issue has been solved: kindly asked the author whether the issue can be closed. In the absence of reply, close the issue after two weeks.</p></li>
<li><p>The issue is a usage question: label the issue with <img alt="Usage" src="https://img.shields.io/badge/-Usage-e99695.svg" /> and kindly redirect the author to <a class="reference external" href="https://neurostars.org/">neurostars</a>. Close the issue afterwards.</p></li>
<li><p>The issue has no recent activity (no messages in the last three months): ping the author to see if the issue is still relevant. In the absence of reply, label the issue with <img alt="stalled" src="https://img.shields.io/badge/-stalled-c2e0c6.svg" /> and close it after 2 weeks.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="pull-requests">
<span id="pull-request"></span><h3><a class="toc-backref" href="#id8" role="doc-backlink">Pull Requests</a><a class="headerlink" href="#pull-requests" title="Permalink to this heading">¶</a></h3>
<p>We welcome pull requests from all community members, if they follow the
<a class="reference internal" href="development.html#contribution-guidelines"><span class="std std-ref">Contribution Guidelines</span></a> inspired from scikit learn conventions. (More
details on their process are available <a class="reference external" href="https://scikit-learn.org/stable/developers/contributing.html#contributing-code">here</a>)</p>
</section>
</section>
<section id="how-to-make-a-release">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">How to make a release?</a><a class="headerlink" href="#how-to-make-a-release" title="Permalink to this heading">¶</a></h2>
<p>This section describes how to make a new release of Nilearn. It is targeted to the specific case of Nilearn although it contains generic steps for packaging and distributing projects. More detailed information can be found on <a class="reference external" href="https://packaging.python.org/guides/distributing-packages-using-setuptools/#id70">packaging.python.org</a>.</p>
<p>We assume that we are in a clean state where all the Pull Requests (PR) that we wish to include in the new release have been merged.</p>
<section id="prepare-code-for-the-release">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Prepare code for the release</a><a class="headerlink" href="#prepare-code-for-the-release" title="Permalink to this heading">¶</a></h3>
<p>The repository should be checked and updated in preparation for the release.</p>
<p>One thing that <strong>must</strong> be done before the release is made is to update all versionchanged and versionadded directives from the current <code class="docutils literal notranslate"><span class="pre">[x.y.z].dev</span></code> tag to the new version number.</p>
<p>Additionally, make sure all deprecations that are supposed to be removed with this new version have been addressed.
If this new release comes with dependency version bumps (Python, Numpy…), make sure to implement and test these changes beforehand.
Ideally, these would have been done before such as to update the code base if necessary.
Finally, make sure the documentation can be built correctly.</p>
</section>
<section id="prepare-the-release">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Prepare the release</a><a class="headerlink" href="#prepare-the-release" title="Permalink to this heading">¶</a></h3>
<p>Switch to a new branch locally:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b REL-x.y.z
</pre></div>
</div>
<p>First we need to prepare the release by updating the file <code class="docutils literal notranslate"><span class="pre">nilearn/doc/changes/latest.rst</span></code> to make sure all the new features, enhancements, and bug fixes are included in their respective sections.</p>
<p>We also need to write a “Highlights” section promoting the most important additions that come with this new release. Finally, we need to change the title from <code class="docutils literal notranslate"><span class="pre">x.y.z.dev</span></code> to <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code>:</p>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">currentmodule</span><span class="p">::</span> nilearn

<span class="p">..</span> <span class="ow">include</span><span class="p">::</span> names.rst

<span class="gh">x.y.z</span>
<span class="gh">=====</span>

<span class="gs">**Released MONTH YEAR**</span>

<span class="gh">HIGHLIGHTS</span>
<span class="gh">----------</span>

<span class="m">-</span> Nilearn now includes functionality A
<span class="m">-</span> ...
</pre></div>
</div>
<p>Once we have made all the necessary changes to <code class="docutils literal notranslate"><span class="pre">nilearn/doc/changes/latest.rst</span></code>, we should rename it into <code class="docutils literal notranslate"><span class="pre">nilearn/doc/changes/x.y.z.rst</span></code>, where <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code> is the corresponding version number.</p>
<p>We then need to update <code class="docutils literal notranslate"><span class="pre">nilearn/doc/changes/whats_new.rst</span></code> and replace:</p>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_latest:</span>
<span class="p">..</span> <span class="ow">include</span><span class="p">::</span> latest.rst
</pre></div>
</div>
<p>By:</p>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_vx.y.z:</span>
<span class="p">..</span> <span class="ow">include</span><span class="p">::</span> x.y.z.rst
</pre></div>
</div>
<p>Next, we need to bump the version number of Nilearn by updating the file <code class="docutils literal notranslate"><span class="pre">nilearn/version.py</span></code> with the new version number, that is edit the line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">__version__</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">dev</span>
</pre></div>
</div>
<p>to be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">__version__</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span>
</pre></div>
</div>
<p>We also need to update the website news section by editing the file <code class="docutils literal notranslate"><span class="pre">nilearn/doc/themes/nilearn/layout.html</span></code>. The news section typically contains links to the last 3 releases that should look like:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span> News <span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>November 2020<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>:
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;whats_new.html#v0-7-0&quot;</span><span class="p">&gt;</span>Nilearn 0.7.0 released<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>February 2020<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>:
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;whats_new.html#v0-6-2&quot;</span><span class="p">&gt;</span>Nilearn 0.6.2 released<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>January 2020<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>:
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;whats_new.html#v0-6-1&quot;</span><span class="p">&gt;</span>Nilearn 0.6.1 released<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Here, we should remove the last entry and add the new release on top of the list.</p>
<p>In addition, we can have a look at <cite>MANIFEST.in</cite> to check that all additional files that we want to be included or excluded from the release are indicated. Normally we shouldn’t have to touch this file.</p>
<p>Add these changes and submit a PR:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add doc/whats_new.rst nilearn/version.py
git commit -m <span class="s2">&quot;REL x.y.z&quot;</span>
git push origin REL-x.y.z
</pre></div>
</div>
<p>Once the PR has been reviewed and merged, pull from master and tag the merge commit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout master
git pull upstream master
git tag x.y.z
git push upstream --tags
</pre></div>
</div>
</section>
<section id="build-the-distributions-and-upload-them-to-pypi">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Build the distributions and upload them to Pypi</a><a class="headerlink" href="#build-the-distributions-and-upload-them-to-pypi" title="Permalink to this heading">¶</a></h3>
<p>First of all we should make sure we don’t include files that shouldn’t be present:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout x.y.z
</pre></div>
</div>
<p>If the workspace contains a <cite>dist</cite> folder, make sure to clean it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm -r dist
</pre></div>
</div>
<p>In order to build the binary wheel files, we need to install <a class="reference external" href="https://pypi.org/project/wheel/">wheel</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install wheel
</pre></div>
</div>
<p>And, in order to upload to <cite>Pypi</cite>, we will use <a class="reference external" href="https://pypi.org/project/twine/">twine</a> that you can also install with <cite>pip</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install twine
</pre></div>
</div>
<p>Build the source and binary distributions:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py sdist bdist_wheel
</pre></div>
</div>
<p>This should add two files to the <cite>dist</cite> subfolder:</p>
<ul class="simple">
<li><p>one for the source distribution that should look like <cite>PACKAGENAME-VERSION.tar.gz</cite></p></li>
<li><p>one for the built distribution that should look like <cite>PACKAGENAME-PACKAGEVERSION-PYTHONVERSION-PYTHONCVERSION-PLATFORM.whl</cite></p></li>
</ul>
<p>Optionally, we can run some basic checks with <cite>twine</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine check dist/*
</pre></div>
</div>
<p>We are now ready to upload to <cite>Pypi</cite>. Note that you will need to have an <a class="reference external" href="https://pypi.org/account/register/">account on Pypi</a>, and be added to the maintainers of <a class="reference external" href="https://pypi.org/project/nilearn/">Nilearn</a>. If you satisfy these conditions, you should be able to run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine upload dist/*
</pre></div>
</div>
<p>Once the upload is completed, make sure everything looks good on <a class="reference external" href="https://pypi.org/project/nilearn/">Pypi</a>. Otherwise you will probably have to fix the issue and start over a new release with the patch number incremented.</p>
<p>At this point, we need to upload the binaries to GitHub and link them to the tag. To do so, go to the <a class="reference external" href="https://github.com/nilearn/nilearn/tags">Nilearn GitHub page</a> under the “Releases” tab, and edit the <cite>x.y.z</cite> tag by providing a description, and upload the distributions we just created (you can just drag and drop the files).</p>
</section>
<section id="build-and-deploy-the-documentation">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Build and deploy the documentation</a><a class="headerlink" href="#build-and-deploy-the-documentation" title="Permalink to this heading">¶</a></h3>
<p>We now need to update the documentation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> doc
make install
</pre></div>
</div>
<p>This will build the documentation (beware, this is time consuming…) and push it to the <a class="reference external" href="https://github.com/nilearn/nilearn.github.io">GitHub pages repo</a>.</p>
</section>
<section id="post-release">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Post-release</a><a class="headerlink" href="#post-release" title="Permalink to this heading">¶</a></h3>
<p>At this point, the release has been made. We can now update the file <code class="docutils literal notranslate"><span class="pre">nilearn/version.py</span></code> and update the version number by increasing the patch number and appending <cite>.dev</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">__version__</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="p">(</span><span class="n">z</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dev</span>
</pre></div>
</div>
<p>We also need to create a new file <code class="docutils literal notranslate"><span class="pre">doc/changes/latest.rst</span></code> with a title and the usual <code class="docutils literal notranslate"><span class="pre">New</span></code>, <code class="docutils literal notranslate"><span class="pre">Enhancements</span></code>, <code class="docutils literal notranslate"><span class="pre">Bug</span> <span class="pre">Fixes</span></code>, and <code class="docutils literal notranslate"><span class="pre">Changes</span></code> sections for the version currently under development:</p>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">currentmodule</span><span class="p">::</span> nilearn

<span class="p">..</span> <span class="ow">include</span><span class="p">::</span> names.rst

<span class="gh">x.y.z+1.dev</span>
<span class="gh">=========</span>

<span class="gh">NEW</span>
<span class="gh">---</span>

<span class="gh">Fixes</span>
<span class="gh">-----</span>

<span class="gh">Enhancements</span>
<span class="gh">------------</span>

<span class="gh">Changes</span>
<span class="gh">-------</span>
</pre></div>
</div>
<p>Finally, we need to include this new file in <code class="docutils literal notranslate"><span class="pre">doc/changes/whats_new.rst</span></code>:</p>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_latest:</span>
<span class="p">..</span> <span class="ow">include</span><span class="p">::</span> latest.rst
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


<h4> Giving credit </h4>
  <ul class="simple">
    <li><p>Please consider <a href="authors.html#citing">citing the
                    papers</a>.</p></li>
  </ul>

  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Nilearn maintenance process</a><ul>
<li><a class="reference internal" href="#project-organization">Project Organization</a><ul>
<li><a class="reference internal" href="#issues">Issues</a><ul>
<li><a class="reference internal" href="#labels">Labels</a></li>
<li><a class="reference internal" href="#closing-policy">Closing policy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-make-a-release">How to make a release?</a><ul>
<li><a class="reference internal" href="#prepare-code-for-the-release">Prepare code for the release</a></li>
<li><a class="reference internal" href="#prepare-the-release">Prepare the release</a></li>
<li><a class="reference internal" href="#build-the-distributions-and-upload-them-to-pypi">Build the distributions and upload them to Pypi</a></li>
<li><a class="reference internal" href="#build-and-deploy-the-documentation">Build and deploy the documentation</a></li>
<li><a class="reference internal" href="#post-release">Post-release</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="development.html"
                          title="previous chapter">Nilearn development process</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="glossary.html"
                          title="next chapter">Glossary</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
            &copy; The nilearn developers 2010-2022.
          Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.0.0.
        <span style="padding-left: 5ex;">
          <a href="_sources/maintenance.rst.txt"
        	 rel="nofollow">Show this page source</a>
        </span>
    </div>
  </body>
</html>