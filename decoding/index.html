
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="2. Decoding and MVPA: predicting from brain images" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://nilearn.github.io/decoding/index.html" />
  <meta property="og:site_name" content="Nilearn" />
  <meta property="og:description" content="Decoding consists in predicting external variables such as behavioral or phenotypic variables from brain image. It can be useful for diagnostic of prognosis, or to probe the information content of ..." />
  <meta property="og:image" content="https://nilearn.github.io/_static/nilearn-logo.png" />
  <meta property="og:image:alt" content="Nilearn" />
  
    <title>Nilearn: Statistical Analysis for NeuroImaging in Python &#8212; Machine learning for NeuroImaging</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2.1. An introduction to decoding" href="decoding_intro.html" />
    <link rel="prev" title="1. Introduction: nilearn in a nutshell" href="../introduction.html" />
<meta content="True" name="HandheldFriendly">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="keywords" content="nilearn, neuroimaging, python, neuroscience, machinelearning">


<script type="text/javascript">
function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});
</script>
<script type="text/javascript">
function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});
</script>


<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

  </head><body>
<div id="logo-banner">
  <div class="logo">
    <a href="../index.html">
      <img src="../_static/nilearn-logo.png" alt="Nilearn logo"  border="0" />
    </a>
  </div>
  <!-- A tag cloud to make it easy for people to find what they are
                         looking for -->
 <div class="tags">
  <ul>
    <li>
      <big><a href="../auto_examples/decoding/plot_haxby_anova_svm.html">SVM</a></big>
    </li>
    <li>
      <small><a href="../connectivity/parcellating.html">Ward
          clustering</a></small>
    </li>
    <li>
      <a href="searchlight.html">Searchlight</a>
    </li>
    <li>
      <big><a href="../connectivity/resting_state_networks.html">ICA</a></big>
    </li>
    <li>
      <a href="../manipulating_images/data_preparation.html">Nifti IO</a>
    </li>
    <li>
      <a href="../modules/reference.html#module-nilearn.datasets">Datasets</a>
    </li>
  </ul>
 </div>

  <div class="banner">
    <h1>Nilearn:</h1>
    <h2>Statistics for NeuroImaging in Python</h2>
  </div>
  <div class="search_form">
    <div class="gcse-search" id="cse" style="width: 100%;"></div>
    <script>
      (function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
  </div>
</div>



<div class=related-wrapper>
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="decoding_intro.html" title="2.1. An introduction to decoding"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../introduction.html" title="1. Introduction: nilearn in a nutshell"
             accesskey="P">previous</a> |</li>
<li><a href="../index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="../authors.html">About</a>|&nbsp;</li>
<li><a href="../glossary.html">Glossary</a>|&nbsp;</li>
<li><a href="../bibliography.html">Bibliography</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

          <li class="nav-item nav-item-1"><a href="../user_guide.html" accesskey="U">User guide: table of contents</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Nilearn: Statistical Analysis for NeuroImaging in Python</a></li> 
      </ul>
    </div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
   <SCRIPT>
 //Function to make the index toctree collapsible
 $(function () {
     $('.toctree-l2')
         .click(function(event){
             if (event.target.tagName.toLowerCase() != "a") {
                 if ($(this).children('ul').length > 0) {
                      $(this).attr('data-content',
                          (!$(this).children('ul').is(':hidden')) ? '\u25ba' : '\u25bc');
                     $(this).children('ul').toggle();
                 }
                 return true; //Makes links clickable
             }
         })
         .mousedown(function(event){ return false; }) //Firefox highlighting fix
         .children('ul').hide();
     // Initialize the values
     $('li.toctree-l2:not(:has(ul))').attr('data-content', '-');
     $('li.toctree-l2:has(ul)').attr('data-content', '\u25ba');
     $('li.toctree-l2:has(ul)').css('cursor', 'pointer');

     $('.toctree-l2').hover(
         function () {
             if ($(this).children('ul').length > 0) {
                 $(this).css('background-color', '#D0D0D0').children('ul').css('background-color', '#F0F0F0');
                 $(this).attr('data-content',
                     (!$(this).children('ul').is(':hidden')) ? '\u25bc' : '\u25ba');
             }
             else {
                 $(this).css('background-color', '#F9F9F9');
             }
         },
         function () {
             $(this).css('background-color', 'white').children('ul').css('background-color', 'white');
             if ($(this).children('ul').length > 0) {
                 $(this).attr('data-content',
                     (!$(this).children('ul').is(':hidden')) ? '\u25bc' : '\u25ba');
             }
         }
     );
 });

 </SCRIPT>

<style type="text/css">
  div.bodywrapper blockquote {
      margin: 0 ;
  }

  div.toctree-wrapper ul {
      margin: 0 ;
      padding-left: 0px ;
  }

  li, ul {
      transition-duration: 0.2s;
  }

  li.toctree-l1 {
      padding: 5px 0 0;
      list-style-type: none;
      font-size: 150% ;
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      font-weight: normal;
      color: #20435c;
      margin-left: 0;
      margin-bottom: 1.2em;
      font-weight: bold;
      }

  li.toctree-l1 a {
      padding: 0 0 0 10px ;
      color: #314F64 ;
  }

  li.toctree-l2 {
      padding: 0.25em 0 0.25em 0 ;
      list-style-type: none;
      background-color: #FFFFFF;
      font-size: 85% ;
      font-weight: normal;
  }

  li.toctree-l2 ul {
      padding-left: 40px ;
  }


  li.toctree-l2:before {
      content: attr(data-content) ;
      font-size: 85% ;
      color: #777 ;
      display: inline-block;
      width: 10px;
  }

  li.toctree-l3 {
      font-size: 88% ;
      list-style-type: square;
      font-weight: normal;
  }

  li.toctree-l4 {
      font-size: 93% ;
      list-style-type: circle;
      font-weight: normal;
  }

  div.topic li.toctree-l1 {
      font-size: 100% ;
      font-weight: bold;
      background-color: transparent;
      margin-bottom: 0;
      margin-left: 1.5em;
      display:inline;
  }

  div.topic p {
      font-size: 90% ;
      margin: 0.4ex;
  }

  div.topic p.topic-title {
      display:inline;
      font-size: 100% ;
      margin-bottom: 0;
  }

  div.sidebar {
      width: 25ex ;
  }

</style><div class="section" id="decoding-and-mvpa-predicting-from-brain-images">
<span id="decoding"></span><h1><span class="section-number">2. </span>Decoding and MVPA: predicting from brain images<a class="headerlink" href="#decoding-and-mvpa-predicting-from-brain-images" title="Permalink to this headline">¶</a></h1>
<p>Decoding consists in predicting external variables such as behavioral or
phenotypic variables from brain image. It can be useful for diagnostic of
prognosis, or to probe the information content of brain activity images.</p>
<p>These are <a class="reference external" href="http://en.wikipedia.org/wiki/Supervised_learning">Supervised learning</a> tasks, focused on
predicting an output value.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<style type="text/css">
  div.bodywrapper blockquote {
      margin: 0 ;
  }

  div.toctree-wrapper ul {
      margin-top: 0 ;
      margin-bottom: 0 ;
      padding-left: 10px ;
  }

  li.toctree-l1 {
      padding: 0 0 0.5em 0 ;
      list-style-type: none;
      font-size: 150% ;
      font-weight: bold;
      }

  li.toctree-l1 ul {
      padding-left: 40px ;
  }

  li.toctree-l2 {
      font-size: 75% ;
      list-style-type: square;
      font-weight: normal;
      }

  li.toctree-l3 {
      font-size: 85% ;
      list-style-type: circle;
      font-weight: normal;
      }

</style><div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="decoding_intro.html">2.1. An introduction to decoding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="decoding_intro.html#loading-and-preparing-the-data">2.1.1. Loading and preparing the data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#the-haxby-2001-experiment">2.1.1.1. The Haxby 2001 experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#loading-the-data-into-nilearn">2.1.1.2. Loading the data into nilearn</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="decoding_intro.html#performing-a-simple-decoding-analysis">2.1.2. Performing a simple decoding analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#a-few-definitions">2.1.2.1. A few definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#a-first-estimator">2.1.2.2. A first estimator</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#decoding-made-easy">2.1.2.3. Decoding made easy</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#measuring-prediction-performance">2.1.2.4. Measuring prediction performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="decoding_intro.html#cross-validation">2.1.2.4.1. Cross-validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="decoding_intro.html#choosing-a-good-cross-validation-strategy">2.1.2.4.2. Choosing a good cross-validation strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="decoding_intro.html#choice-of-the-prediction-accuracy-measure">2.1.2.4.3. Choice of the prediction accuracy measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="decoding_intro.html#prediction-accuracy-at-chance-using-simple-strategies">2.1.2.4.4. Prediction accuracy at chance using simple strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#visualizing-the-decoder-s-weights">2.1.2.5. Visualizing the decoder’s weights</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="decoding_intro.html#decoding-without-a-mask-anova-svm">2.1.3. Decoding without a mask: Anova-SVM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#dimension-reduction-with-feature-selection">2.1.3.1. Dimension reduction with feature selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoding_intro.html#visualizing-the-results">2.1.3.2. Visualizing the results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="estimator_choice.html">2.2. Choosing the right predictive model for neuroimaging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="estimator_choice.html#predictions-regression-classification-and-multi-class">2.2.1. Predictions: regression, classification and multi-class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="estimator_choice.html#regression">2.2.1.1. Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="estimator_choice.html#classification-two-classes-or-multi-class">2.2.1.2. Classification: two classes or multi-class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="estimator_choice.html#different-linear-models">2.2.2. Different linear models</a></li>
<li class="toctree-l2"><a class="reference internal" href="estimator_choice.html#setting-estimator-parameters">2.2.3. Setting estimator parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="estimator_choice.html#bagging-several-models">2.2.4. Bagging several models</a></li>
<li class="toctree-l2"><a class="reference internal" href="estimator_choice.html#references">2.2.5. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="frem.html">2.3. FREM: fast ensembling of regularized models for robust decoding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="frem.html#frem-pipeline">2.3.1. FREM pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="frem.html#empirical-comparisons">2.3.2. Empirical comparisons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="frem.html#decoding-performance-increase-on-haxby-dataset">2.3.2.1. Decoding performance increase on Haxby dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="frem.html#spatial-regularization-of-decoding-maps-on-mixed-gambles-study">2.3.2.2. Spatial regularization of decoding maps on mixed gambles study</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="frem.html#references">2.3.3. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="space_net.html">2.4. SpaceNet: decoding with spatial structure for better maps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="space_net.html#the-spacenet-decoder">2.4.1. The SpaceNet decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="space_net.html#related-example">2.4.2. Related example</a></li>
<li class="toctree-l2"><a class="reference internal" href="space_net.html#references">2.4.3. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="searchlight.html">2.5. Searchlight : finding voxels containing information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="searchlight.html#principle-of-the-searchlight">2.5.1. Principle of the Searchlight</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchlight.html#preparing-the-data">2.5.2. Preparing the data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#masking">2.5.2.1. Masking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="searchlight.html#setting-up-the-searchlight">2.5.3. Setting up the searchlight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#classifier">2.5.3.1. Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#score-function">2.5.3.2. Score function</a></li>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#cross-validation">2.5.3.3. Cross validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#sphere-radius">2.5.3.4. Sphere radius</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="searchlight.html#visualization">2.5.4. Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#id6">2.5.4.1. Searchlight</a></li>
<li class="toctree-l3"><a class="reference internal" href="searchlight.html#comparing-to-massively-univariate-analysis-f-score-or-spm">2.5.4.2. Comparing to massively univariate analysis: F_score or SPM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="searchlight.html#references">2.5.5. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="going_further.html">2.6. Running scikit-learn functions for more control on the analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="going_further.html#performing-decoding-with-scikit-learn">2.6.1. Performing decoding with scikit-learn</a><ul>
<li class="toctree-l3"><a class="reference internal" href="going_further.html#using-scikit-learn-estimators">2.6.1.1. Using scikit-learn estimators</a></li>
<li class="toctree-l3"><a class="reference internal" href="going_further.html#cross-validation-with-scikit-learn">2.6.1.2. Cross-validation with scikit-learn</a></li>
<li class="toctree-l3"><a class="reference internal" href="going_further.html#measuring-the-chance-level">2.6.1.3. Measuring the chance level</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="going_further.html#going-further-with-scikit-learn">2.6.2. Going further with scikit-learn</a><ul>
<li class="toctree-l3"><a class="reference internal" href="going_further.html#decoding-without-a-mask-anova-svm-using-scikit-learn">2.6.2.1. Decoding without a mask: Anova-SVM using scikit-learn</a></li>
<li class="toctree-l3"><a class="reference internal" href="going_further.html#using-any-other-model-in-the-pipeline">2.6.2.2. Using any other model in the pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="going_further.html#setting-estimator-parameters">2.6.3. Setting estimator parameters</a></li>
</ul>
</li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


<h4> Giving credit </h4>
  <ul class="simple">
    <li><p>Please consider <a href="../authors.html#citing">citing the
                    papers</a>.</p></li>
  </ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../introduction.html"
                        title="previous chapter"><span class="section-number">1. </span>Introduction: nilearn in a nutshell</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="decoding_intro.html"
                        title="next chapter"><span class="section-number">2.1. </span>An introduction to decoding</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
            &copy; The nilearn developers 2010-2021.
          Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.0.2.
        <span style="padding-left: 5ex;">
          <a href="../_sources/decoding/index.rst.txt"
        	 rel="nofollow">Show this page source</a>
        </span>
    </div>
  </body>
</html>