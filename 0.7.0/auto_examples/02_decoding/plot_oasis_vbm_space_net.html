<!doctypehtml><html lang=en xmlns=http://www.w3.org/1999/xhtml><meta content=IE=Edge http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8"http-equiv=Content-Type><title>Nilearn: Statistical Analysis for NeuroImaging in Python — Machine learning for NeuroImaging</title><link href=../../_static/nature.css rel=stylesheet><link href=../../_static/pygments.css rel=stylesheet><link href=../../_static/gallery.css rel=stylesheet><link href=../../_static/gallery-binder.css rel=stylesheet><link href=../../_static/gallery-dataframe.css rel=stylesheet><script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script><script src=../../_static/jquery.js></script><script src=../../_static/underscore.js></script><script src=../../_static/doctools.js></script><script src=../../_static/language_data.js></script><script src=../../_static/copybutton.js></script><link rel="shortcut icon"href=../../_static/favicon.ico><link href=../../search.html rel=search title=Search><link title="9.3.5. Decoding with ANOVA + SVM: face vs house in the Haxby dataset"href=plot_haxby_anova_svm.html rel=next><link title="9.3.3. Decoding with FREM: face vs house object recognition"href=plot_haxby_frem.html rel=prev><meta content=True name=HandheldFriendly><meta content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0 name=viewport><meta content="nilearn, neuroimaging, python, neuroscience, machinelearning"name=keywords><script>function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});</script><script>function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});</script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script></head><body><div id=logo-banner><div class=logo><a href=../../index.html> <img alt="Nilearn logo"border=0 src=../../_static/nilearn-logo.png> </a></div><div class=tags><ul><li><big><a href=../decoding/plot_haxby_anova_svm.html>SVM</a></big></li><li><small><a href=../../connectivity/parcellating.html>Ward clustering</a></small></li><li><a href=../../decoding/searchlight.html>Searchlight</a></li><li><big><a href=../../connectivity/resting_state_networks.html>ICA</a></big></li><li><a href=../../manipulating_images/data_preparation.html>Nifti IO</a></li><li><a href=../../modules/reference.html#module-nilearn.datasets>Datasets</a></li></ul></div><div class=banner><h1>Nilearn:</h1><h2>Statistics for NeuroImaging in Python</h2></div><div class=search_form><div class=gcse-search id=cse style=width:100%></div><script>(function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();</script></div></div><div class=related-wrapper><div aria-label="related navigation"class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="Python Module Index"href=../../py-modindex.html>modules</a></li><li class=right><a title="9.3.5. Decoding with ANOVA + SVM: face vs house in the Haxby dataset"accesskey=N href=plot_haxby_anova_svm.html>next</a> |</li><li class=right><a title="9.3.3. Decoding with FREM: face vs house object recognition"accesskey=P href=plot_haxby_frem.html>previous</a> |</li><li><a href=../../index.html>Nilearn Home</a> | </li><li><a href=../../user_guide.html>User Guide</a> | </li><li><a href=../index.html>Examples</a> | </li><li><a href=../../modules/reference.html>Reference</a> | </li><li id=navbar-about><a href=../../authors.html>About</a>| </li><li id=navbar-ecosystem><a href=http://www.nipy.org/>Nipy ecosystem</a></li><li class="nav-item nav-item-1"><a href=../../user_guide.html>User guide: table of contents</a> »</li><li class="nav-item nav-item-2"><a accesskey=U href=../index.html>9. Nilearn usage examples</a> »</li></ul></div></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><div class="sphx-glr-download-link-note admonition note"><p class="first admonition-title">Note</p><p class=last>Click <a class="reference internal"href=#sphx-glr-download-auto-examples-02-decoding-plot-oasis-vbm-space-net-py><span class="std std-ref">here</span></a> to download the full example code or to run this example in your browser via Binder</p></div><div class="sphx-glr-example-title section"id=voxel-based-morphometry-on-oasis-dataset-with-space-net-prior><span id=sphx-glr-auto-examples-02-decoding-plot-oasis-vbm-space-net-py></span><h1>9.3.4. Voxel-Based Morphometry on Oasis dataset with Space-Net prior<a title="Permalink to this headline"class=headerlink href=#voxel-based-morphometry-on-oasis-dataset-with-space-net-prior>¶</a></h1><p>Predicting age from gray-matter concentration maps from OASIS dataset. Note that age is a continuous variable, we use the regressor here, and not the classification object.</p><p>See also the documentation: <a class="reference internal"href=../../decoding/space_net.html#space-net><span class="std std-ref">SpaceNet: decoding with spatial structure for better maps</span></a>.</p><div class=section id=load-the-oasis-vbm-dataset><h2>9.3.4.1. Load the Oasis VBM dataset<a title="Permalink to this headline"class=headerlink href=#load-the-oasis-vbm-dataset>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=kn>from</span> <span class=nn>nilearn</span> <span class=k>import</span> <span class=n>datasets</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>n_subjects</span></a> <span class=o>=</span> <span class=mi>200</span>  <span class=c1># increase this number if you have more RAM on your box</span>
<a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>dataset_files</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-datasets sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.datasets.fetch_oasis_vbm.html#nilearn.datasets.fetch_oasis_vbm title=nilearn.datasets.fetch_oasis_vbm><span class=n>datasets</span><span class=o>.</span><span class=n>fetch_oasis_vbm</span></a><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>n_subjects</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>n_subjects</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.recarray.html#numpy.recarray title=numpy.recarray><span class=n>dataset_files</span><span class=o>.</span><span class=n>ext_vars</span></a><span class=p>[</span><span class=s1>'age'</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array title=numpy.array><span class=n>np</span><span class=o>.</span><span class=n>array</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array title=numpy.array><span class=n>np</span><span class=o>.</span><span class=n>array</span></a><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/stdtypes.html#list title=builtins.list><span class=n>dataset_files</span><span class=o>.</span><span class=n>gray_matter_maps</span></a><span class=p>)</span>


<span class=c1># Split data into training set and test set</span>
<span class=kn>from</span> <span class=nn>sklearn.utils</span> <span class=k>import</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.check_random_state.html#sklearn.utils.check_random_state title=sklearn.utils.check_random_state><span class=n>check_random_state</span></a>
<span class=kn>from</span> <span class=nn>sklearn.model_selection</span> <span class=k>import</span> <a class="sphx-glr-backref-module-sklearn-model_selection sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.train_test_split.html#sklearn.model_selection.train_test_split title=sklearn.model_selection.train_test_split><span class=n>train_test_split</span></a>
<a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/random/legacy.html#numpy.random.RandomState title=numpy.random.RandomState><span class=n>rng</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.check_random_state.html#sklearn.utils.check_random_state title=sklearn.utils.check_random_state><span class=n>check_random_state</span></a><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_train</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_test</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_train</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-model_selection sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.train_test_split.html#sklearn.model_selection.train_test_split title=sklearn.model_selection.train_test_split><span class=n>train_test_split</span></a><span class=p>(</span>
    <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age</span></a><span class=p>,</span> <span class=n>train_size</span><span class=o>=.</span><span class=mi>6</span><span class=p>,</span> <span class=n>random_state</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy-random sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/random/legacy.html#numpy.random.RandomState title=numpy.random.RandomState><span class=n>rng</span></a><span class=p>)</span>

<span class=c1># Sort test data for better visualization (trend, etc.)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>perm</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.argsort.html#numpy.argsort title=numpy.argsort><span class=n>np</span><span class=o>.</span><span class=n>argsort</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a><span class=p>)[::</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>perm</span></a><span class=p>]</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_test</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_test</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>perm</span></a><span class=p>]</span>
</pre></div></div><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>/usr/lib/python3/dist-packages/numpy/lib/npyio.py:2358: VisibleDeprecationWarning: Reading unicode strings without specifying the encoding argument is deprecated. Set the encoding, use None for the system default.
  output = genfromtxt(fname, **kwargs)
</pre></div></div></div><div class=section id=fit-the-spacenet-and-predict-with-it><h2>9.3.4.2. Fit the SpaceNet and predict with it<a title="Permalink to this headline"class=headerlink href=#fit-the-spacenet-and-predict-with-it>¶</a></h2><p>To save time (because these are anat images with many voxels), we include only the 5-percent voxels most correlated with the age variable to fit. Also, we set memory_level=2 so that more of the intermediate computations are cached. We used a graph-net penalty here but more beautiful results can be obtained using the TV-l1 penalty, at the expense of longer runtimes. Also, you may pass and n_jobs=&LTsome_high_value> to the SpaceNetRegressor class, to take advantage of a multi-core system.</p><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=kn>from</span> <span class=nn>nilearn.decoding</span> <span class=k>import</span> <a class="sphx-glr-backref-module-nilearn-decoding sphx-glr-backref-type-py-class"href=../../modules/generated/nilearn.decoding.SpaceNetRegressor.html#nilearn.decoding.SpaceNetRegressor title=nilearn.decoding.SpaceNetRegressor><span class=n>SpaceNetRegressor</span></a>
<a class="sphx-glr-backref-module-nilearn-decoding sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=../../modules/generated/nilearn.decoding.SpaceNetRegressor.html#nilearn.decoding.SpaceNetRegressor title=nilearn.decoding.SpaceNetRegressor><span class=n>decoder</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-decoding sphx-glr-backref-type-py-class"href=../../modules/generated/nilearn.decoding.SpaceNetRegressor.html#nilearn.decoding.SpaceNetRegressor title=nilearn.decoding.SpaceNetRegressor><span class=n>SpaceNetRegressor</span></a><span class=p>(</span><span class=n>memory</span><span class=o>=</span><span class=s2>"nilearn_cache"</span><span class=p>,</span> <span class=n>penalty</span><span class=o>=</span><span class=s2>"graph-net"</span><span class=p>,</span>
                            <span class=n>screening_percentile</span><span class=o>=</span><span class=mf>5.</span><span class=p>,</span> <span class=n>memory_level</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<a class="sphx-glr-backref-module-nilearn-decoding sphx-glr-backref-type-py-method"href=../../modules/generated/nilearn.decoding.SpaceNetRegressor.html#nilearn.decoding.SpaceNetRegressor.fit title=nilearn.decoding.SpaceNetRegressor.fit><span class=n>decoder</span><span class=o>.</span><span class=n>fit</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_train</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_train</span></a><span class=p>)</span>  <span class=c1># fit</span>
<a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>coef_img</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>decoder</span><span class=o>.</span><span class=n>coef_img_</span></a>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y_pred</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-decoding sphx-glr-backref-type-py-method"href=../../modules/generated/nilearn.decoding.SpaceNetRegressor.html#nilearn.decoding.SpaceNetRegressor.predict title=nilearn.decoding.SpaceNetRegressor.predict><span class=n>decoder</span><span class=o>.</span><span class=n>predict</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs_test</span></a><span class=p>)</span><span class=o>.</span><span class=n>ravel</span><span class=p>()</span>  <span class=c1># predict</span>
<span class=n>mse</span> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.mean.html#numpy.mean title=numpy.mean><span class=n>np</span><span class=o>.</span><span class=n>mean</span></a><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a> <span class=o>-</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y_pred</span></a><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>'Mean square error (MSE) on the predicted age: </span><span class=si>%.2f</span><span class=s1>'</span> <span class=o>%</span> <span class=n>mse</span><span class=p>)</span>
</pre></div></div><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>[NiftiMasker.fit] Loading data from [/home/varoquau/nilearn_data/oasis1/OAS1_0003_MR1/mwrc1OAS1_0003_MR1_mpr_anon_fslswapdim_bet.nii.gz, /home/varoquau/nilearn_data/oasis1/OAS1_0086_MR1/mwrc1OAS1_0086_MR1_mpr_anon_fslswapdim_bet.nii.gz,
[NiftiMasker.fit] Computing the mask
[NiftiMasker.fit] Resampling mask
[NiftiMasker.transform_single_imgs] Loading data from Nifti1Image(
shape=(91, 109, 91, 120),
affine=array([[  -2.,    0.,    0.,   90.],
       [   0.,    2.,    0., -126.],
       [   0.,    0.,    2.,  -72.],
       [   0.,    0.,    0.,    1.]])
)
[NiftiMasker.transform_single_imgs] Extracting region signals
[NiftiMasker.transform_single_imgs] Cleaning extracted signals
/home/varoquau/dev/nilearn/nilearn/decoding/space_net.py:835: UserWarning: Brain mask is bigger than the volume of a standard human brain. This object is probably not tuned to be used on such data.
  self.screening_percentile_ = _adjust_screening_percentile(
[Parallel(n_jobs=1)]: Using backend SequentialBackend with 1 concurrent workers.
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([ 15, ..., 119]), array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 0), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.40s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 33.3s, 0.6min
[Parallel(n_jobs=1)]: Done   1 out of   1 | elapsed:   36.0s remaining:    0.0s
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 1), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.37s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 31.5s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 2), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.39s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 32.5s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 3), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.37s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 32.9s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 4), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.43s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 32.6s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89]), {'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 5), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.37s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 32.2s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 119]), array([ 90,  91,  92,  93,  94,  95,  96,  97,  98,  99, 100, 101, 102,
       103, 104]),
{'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 6), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.37s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 31.6s, 0.5min
________________________________________________________________________________
[Memory] Calling nilearn.decoding.space_net.path_scores...
path_scores(&LTfunction _graph_net_squared_loss at 0x7f8bfc531af0>, array([[0., ..., 0.],
       ...,
       [0., ..., 0.]]), array([73., ..., 62.]), array([[[ True, ...,  True],
        ...,
        [ True, ...,  True]],

       ...,

       [[ True, ...,  True],
        ...,
        [ True, ...,  True]]]),
None, [0.5], array([  0, ..., 104]), array([105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117,
       118, 119]),
{'max_iter': 200, 'tol': 0.0001}, n_alphas=10, eps=0.001, is_classif=False, key=(0, 7), debias=False, verbose=1, screening_percentile=1.2652228933482088)
........./home/varoquau/dev/joblib/joblib/parallel.py:262: UserWarning: Persisting input arguments took 1.37s to run.
If this happens often in your code, it can cause performance problems
(results will be correct in all cases).
The reason for this is probably some large input arguments for a wrapped
 function (e.g. large strings).
THIS IS A JOBLIB ISSUE. If you can, kindly provide the joblib's team with an
 example so that they can fix the problem.
  return [func(*args, **kwargs)
_____________________________________________________path_scores - 31.9s, 0.5min
[Parallel(n_jobs=1)]: Done   8 out of   8 | elapsed:  4.7min finished
Time Elapsed: 304.144 seconds, 5 minutes.
[NiftiMasker.transform_single_imgs] Loading data from Nifti1Image(
shape=(91, 109, 91, 80),
affine=array([[  -2.,    0.,    0.,   90.],
       [   0.,    2.,    0., -126.],
       [   0.,    0.,    2.,  -72.],
       [   0.,    0.,    0.,    1.]])
)
[NiftiMasker.transform_single_imgs] Extracting region signals
[NiftiMasker.transform_single_imgs] Cleaning extracted signals
Mean square error (MSE) on the predicted age: 12.33
</pre></div></div></div><div class=section id=visualize-the-decoding-maps-and-quality-of-predictions><h2>9.3.4.3. Visualize the decoding maps and quality of predictions<a title="Permalink to this headline"class=headerlink href=#visualize-the-decoding-maps-and-quality-of-predictions>¶</a></h2><p>Visualize the resulting maps</p><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=kn>from</span> <span class=nn>nilearn.plotting</span> <span class=k>import</span> <a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.plot_stat_map.html#nilearn.plotting.plot_stat_map title=nilearn.plotting.plot_stat_map><span class=n>plot_stat_map</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.show.html#nilearn.plotting.show title=nilearn.plotting.show><span class=n>show</span></a>
<span class=c1># weights map</span>
<span class=n>background_img</span> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>gm_imgs</span></a><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.plot_stat_map.html#nilearn.plotting.plot_stat_map title=nilearn.plotting.plot_stat_map><span class=n>plot_stat_map</span></a><span class=p>(</span><a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>coef_img</span></a><span class=p>,</span> <span class=n>background_img</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s2>"graph-net weights"</span><span class=p>,</span>
              <span class=n>display_mode</span><span class=o>=</span><span class=s2>"z"</span><span class=p>,</span> <span class=n>cut_coords</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>

<span class=c1># Plot the prediction errors.</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
<a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure title=matplotlib.pyplot.figure><span class=n>plt</span><span class=o>.</span><span class=n>figure</span></a><span class=p>()</span>
<a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.suptitle.html#matplotlib.pyplot.suptitle title=matplotlib.pyplot.suptitle><span class=n>plt</span><span class=o>.</span><span class=n>suptitle</span></a><span class=p>(</span><span class=s2>"graph-net: Mean Absolute Error </span><span class=si>%.2f</span><span class=s2> years"</span> <span class=o>%</span> <span class=n>mse</span><span class=p>)</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a> <span class=o>=</span> <span class=mi>3</span>
<span class=n>ax1</span> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot title=matplotlib.pyplot.subplot><span class=n>plt</span><span class=o>.</span><span class=n>subplot</span></a><span class=p>(</span><span class=s1>'211'</span><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot title=matplotlib.axes.Axes.plot><span class=n>ax1</span><span class=o>.</span><span class=n>plot</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>"True age"</span><span class=p>,</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot title=matplotlib.axes.Axes.plot><span class=n>ax1</span><span class=o>.</span><span class=n>plot</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y_pred</span></a><span class=p>,</span> <span class=s1>'--'</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=s2>"g"</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>"Predicted age"</span><span class=p>,</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html#matplotlib.axes.Axes.set_ylabel title=matplotlib.axes.Axes.set_ylabel><span class=n>ax1</span><span class=o>.</span><span class=n>set_ylabel</span></a><span class=p>(</span><span class=s2>"age"</span><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.legend.html#matplotlib.pyplot.legend title=matplotlib.pyplot.legend><span class=n>plt</span><span class=o>.</span><span class=n>legend</span></a><span class=p>(</span><span class=n>loc</span><span class=o>=</span><span class=s2>"best"</span><span class=p>)</span>
<span class=n>ax2</span> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot title=matplotlib.pyplot.subplot><span class=n>plt</span><span class=o>.</span><span class=n>subplot</span></a><span class=p>(</span><span class=s2>"212"</span><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot title=matplotlib.axes.Axes.plot><span class=n>ax2</span><span class=o>.</span><span class=n>plot</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>age_test</span></a> <span class=o>-</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y_pred</span></a><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>"True age - predicted age"</span><span class=p>,</span>
         <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.6/library/functions.html#int title=builtins.int><span class=n>linewidth</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html#matplotlib.axes.Axes.set_xlabel title=matplotlib.axes.Axes.set_xlabel><span class=n>ax2</span><span class=o>.</span><span class=n>set_xlabel</span></a><span class=p>(</span><span class=s2>"subject"</span><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/api/_as_gen/matplotlib.pyplot.legend.html#matplotlib.pyplot.legend title=matplotlib.pyplot.legend><span class=n>plt</span><span class=o>.</span><span class=n>legend</span></a><span class=p>(</span><span class=n>loc</span><span class=o>=</span><span class=s2>"best"</span><span class=p>)</span>

<a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.show.html#nilearn.plotting.show title=nilearn.plotting.show><span class=n>show</span></a><span class=p>()</span>
</pre></div></div><ul class=sphx-glr-horizontal><li><img alt="plot oasis vbm space net"class="sphx-glr-multi-img first"src=../../_images/sphx_glr_plot_oasis_vbm_space_net_001.png></li><li><img alt="graph-net: Mean Absolute Error 12.33 years"class="sphx-glr-multi-img first"src=../../_images/sphx_glr_plot_oasis_vbm_space_net_002.png></li></ul><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>/home/varoquau/dev/nilearn/nilearn/plotting/displays.py:1608: MatplotlibDeprecationWarning: Adding an axes using the same arguments as a previous axes currently reuses the earlier instance.  In a future version, a new instance will always be created and returned.  Meanwhile, this warning can be suppressed, and the future behavior ensured, by passing a unique label to each axes instance.
  ax = fh.add_axes([fraction * index * (x1 - x0) + x0, y0,
</pre></div></div><p class=sphx-glr-timing><strong>Total running time of the script:</strong> ( 5 minutes 12.326 seconds)</p><div class="sphx-glr-footer class sphx-glr-footer-example docutils container"id=sphx-glr-download-auto-examples-02-decoding-plot-oasis-vbm-space-net-py><div class="binder-badge docutils container"><a class="reference external image-reference"href=https://mybinder.org/v2/gh/nilearn/nilearn.github.io/master?filepath=examples/auto_examples/02_decoding/plot_oasis_vbm_space_net.ipynb><img alt=https://mybinder.org/badge_logo.svg src=https://mybinder.org/badge_logo.svg width=150px></a></div><div class="sphx-glr-download sphx-glr-download-python docutils container"><a class="reference download internal"download href=../../_downloads/d4538acc0b1d0d875eba83ac76dd0c21/plot_oasis_vbm_space_net.py><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Python</span> <span class=pre>source</span> <span class=pre>code:</span> <span class=pre>plot_oasis_vbm_space_net.py</span></code></a></div><div class="sphx-glr-download sphx-glr-download-jupyter docutils container"><a class="reference download internal"download href=../../_downloads/355d509abf4f12d10cb865335aa41ee9/plot_oasis_vbm_space_net.ipynb><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Jupyter</span> <span class=pre>notebook:</span> <span class=pre>plot_oasis_vbm_space_net.ipynb</span></code></a></div></div><p class=sphx-glr-signature><a class="reference external"href=https://sphinx-gallery.github.io>Gallery generated by Sphinx-Gallery</a></p></div></div></div></div></div><div aria-label="main navigation"class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><h4>Giving credit</h4><ul class=simple><li><p>Please consider <a href=../../authors.html#citing>citing the papers</a>.</p></li></ul><h3><a href=../../index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>9.3.4. Voxel-Based Morphometry on Oasis dataset with Space-Net prior</a><ul><li><a class="reference internal"href=#load-the-oasis-vbm-dataset>9.3.4.1. Load the Oasis VBM dataset</a></li><li><a class="reference internal"href=#fit-the-spacenet-and-predict-with-it>9.3.4.2. Fit the SpaceNet and predict with it</a></li><li><a class="reference internal"href=#visualize-the-decoding-maps-and-quality-of-predictions>9.3.4.3. Visualize the decoding maps and quality of predictions</a></li></ul></li></ul><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=plot_haxby_frem.html>9.3.3. Decoding with FREM: face vs house object recognition</a></p><h4>Next topic</h4><p class=topless><a title="next chapter"href=plot_haxby_anova_svm.html>9.3.5. Decoding with ANOVA + SVM: face vs house in the Haxby dataset</a></p><div id=searchbox role=search style=display:none><h3>Quick search</h3><div class=searchformwrapper><form action=../../search.html class=search><input name=q><input type=submit value=Go><input name=check_keywords type=hidden value=yes><input name=area type=hidden value=default></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class=clearer></div></div><div class=footer>© The nilearn developers 2010-2020. Created using <a href=http://sphinx.pocoo.org/>Sphinx</a> 1.8.5. <span style=padding-left:5ex> <a href=../../_sources/auto_examples/02_decoding/plot_oasis_vbm_space_net.rst.txt rel=nofollow>Show this page source</a> </span></div></body></html>