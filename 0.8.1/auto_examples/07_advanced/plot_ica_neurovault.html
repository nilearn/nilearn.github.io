<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Nilearn: Statistical Analysis for NeuroImaging in Python — Machine learning for NeuroImaging</title><link href=../../_static/pygments.css rel=stylesheet><link href=../../_static/nature.css rel=stylesheet><link href=../../_static/copybutton.css rel=stylesheet><link href=../../_static/gallery.css rel=stylesheet><link href=../../_static/gallery-binder.css rel=stylesheet><link href=../../_static/gallery-dataframe.css rel=stylesheet><script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script><script src=../../_static/jquery.js></script><script src=../../_static/underscore.js></script><script src=../../_static/doctools.js></script><script src=../../_static/clipboard.min.js></script><script src=../../_static/copybutton.js></script><link rel="shortcut icon"href=../../_static/favicon.ico><link href=../../search.html rel=search title=Search><link title="9.8.9. Massively univariate analysis of face vs house recognition"href=plot_haxby_mass_univariate.html rel=next><link title="9.8.7. Surface-based dataset first and second level analysis of a dataset"href=plot_surface_bids_analysis.html rel=prev><meta content=True name=HandheldFriendly><meta content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0 name=viewport><meta content="nilearn, neuroimaging, python, neuroscience, machinelearning"name=keywords><script>function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});</script><script>function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});</script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script><body><div id=logo-banner><div class=logo><a href=../../index.html> <img alt="Nilearn logo"border=0 src=../../_static/nilearn-logo.png> </a></div><div class=tags><ul><li><big><a href=../decoding/plot_haxby_anova_svm.html>SVM</a></big></li><li><small><a href=../../connectivity/parcellating.html>Ward clustering</a></small></li><li><a href=../../decoding/searchlight.html>Searchlight</a></li><li><big><a href=../../connectivity/resting_state_networks.html>ICA</a></big></li><li><a href=../../manipulating_images/data_preparation.html>Nifti IO</a></li><li><a href=../../modules/reference.html#module-nilearn.datasets>Datasets</a></li></ul></div><div class=banner><h1>Nilearn:</h1><h2>Statistics for NeuroImaging in Python</h2></div><div class=search_form><div class=gcse-search id=cse style=width:100%></div><script>(function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();</script></div></div><div class=related-wrapper><div aria-label="related navigation"class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="Python Module Index"href=../../py-modindex.html>modules</a></li><li class=right><a title="9.8.9. Massively univariate analysis of face vs house recognition"accesskey=N href=plot_haxby_mass_univariate.html>next</a> |</li><li class=right><a title="9.8.7. Surface-based dataset first and second level analysis of a dataset"accesskey=P href=plot_surface_bids_analysis.html>previous</a> |</li><li><a href=../../index.html>Nilearn Home</a> | </li><li><a href=../../user_guide.html>User Guide</a> | </li><li><a href=../index.html>Examples</a> | </li><li><a href=../../modules/reference.html>Reference</a> | </li><li id=navbar-about><a href=../../authors.html>About</a>| </li><li><a href=../../glossary.html>Glossary</a>| </li><li><a href=../../bibliography.html>Bibliography</a>| </li><li id=navbar-ecosystem><a href=http://www.nipy.org/>Nipy ecosystem</a></li><li class="nav-item nav-item-1"><a href=../../user_guide.html>User guide: table of contents</a> »</li><li class="nav-item nav-item-2"><a accesskey=U href=../index.html><span class=section-number>9. </span>Nilearn usage examples</a> »</li><li class="nav-item nav-item-this"><a href>Nilearn: Statistical Analysis for NeuroImaging in Python</a></li></ul></div></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><div class="sphx-glr-download-link-note admonition note"><p class=admonition-title>Note</p><p>Click <a class="reference internal"href=#sphx-glr-download-auto-examples-07-advanced-plot-ica-neurovault-py><span class="std std-ref">here</span></a> to download the full example code or to run this example in your browser via Binder</p></div><div class="sphx-glr-example-title section"id=neurovault-cross-study-ica-maps><span id=sphx-glr-auto-examples-07-advanced-plot-ica-neurovault-py></span><h1><span class=section-number>9.8.8. </span>NeuroVault cross-study ICA maps.<a title="Permalink to this headline"class=headerlink href=#neurovault-cross-study-ica-maps>¶</a></h1><p>This example shows how to download statistical maps from NeuroVault, label them with NeuroSynth terms, and compute ICA components across all the maps.</p><p>See <a class="reference internal"href=../../modules/generated/nilearn.datasets.fetch_neurovault.html#nilearn.datasets.fetch_neurovault title=nilearn.datasets.fetch_neurovault><code class="xref py py-func docutils literal notranslate"><span class=pre>nilearn.datasets.fetch_neurovault</span></code></a> documentation for more details.</p><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=c1># Author: Ben Cipollini</span>
<span class=c1># License: BSD</span>
<span class=c1># Ported from code authored by Chris Filo Gorgolewski, Gael Varoquaux</span>
<span class=c1># https://github.com/NeuroVault/neurovault_analysis</span>
<span class=kn>import</span> <span class=nn>warnings</span>

<span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=kn>from</span> <span class=nn>scipy</span> <span class=kn>import</span> <span class=n>stats</span>
<span class=kn>from</span> <span class=nn>sklearn.decomposition</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-sklearn-decomposition sphx-glr-backref-type-py-class"href=https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.FastICA.html#sklearn.decomposition.FastICA title=sklearn.decomposition.FastICA><span class=n>FastICA</span></a>

<span class=kn>from</span> <span class=nn>nilearn.datasets</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-nilearn-datasets sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.datasets.fetch_neurovault.html#nilearn.datasets.fetch_neurovault title=nilearn.datasets.fetch_neurovault><span class=n>fetch_neurovault</span></a>
<span class=kn>from</span> <span class=nn>nilearn.image</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-nilearn-image sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.image.smooth_img.html#nilearn.image.smooth_img title=nilearn.image.smooth_img><span class=n>smooth_img</span></a>

<span class=kn>from</span> <span class=nn>nilearn.datasets</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-nilearn-datasets sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.datasets.load_mni152_brain_mask.html#nilearn.datasets.load_mni152_brain_mask title=nilearn.datasets.load_mni152_brain_mask><span class=n>load_mni152_brain_mask</span></a>
<span class=kn>from</span> <span class=nn>nilearn.input_data</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-class"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker title=nilearn.input_data.NiftiMasker><span class=n>NiftiMasker</span></a>

<span class=kn>from</span> <span class=nn>nilearn</span> <span class=kn>import</span> <span class=n>plotting</span>
</pre></div></div><div class=section id=get-image-and-term-data><h2><span class=section-number>9.8.8.1. </span>Get image and term data<a title="Permalink to this headline"class=headerlink href=#get-image-and-term-data>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=c1># Download images</span>
<span class=c1># Here by default we only download 80 images to save time,</span>
<span class=c1># but for better results I recommend using at least 200.</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>"Fetching Neurovault images; "</span>
      <span class=s2>"if you haven't downloaded any Neurovault data before "</span>
      <span class=s2>"this will take several minutes."</span><span class=p>)</span>
<a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>nv_data</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-datasets sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.datasets.fetch_neurovault.html#nilearn.datasets.fetch_neurovault title=nilearn.datasets.fetch_neurovault><span class=n>fetch_neurovault</span></a><span class=p>(</span><span class=n>max_images</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>fetch_neurosynth_words</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>images</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>nv_data</span></a><span class=p>[</span><span class=s1>'images'</span><span class=p>]</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>nv_data</span></a><span class=p>[</span><span class=s1>'word_frequencies'</span><span class=p>]</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>vocabulary</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>nv_data</span></a><span class=p>[</span><span class=s1>'vocabulary'</span><span class=p>]</span>
<span class=k>if</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
    <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.ones.html#numpy.ones title=numpy.ones><span class=n>np</span><span class=o>.</span><span class=n>ones</span></a><span class=p>((</span><span class=nb>len</span><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>images</span></a><span class=p>),</span> <span class=mi>2</span><span class=p>))</span>
    <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>vocabulary</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray title=numpy.asarray><span class=n>np</span><span class=o>.</span><span class=n>asarray</span></a><span class=p>(</span>
        <span class=p>[</span><span class=s2>"Neurosynth is down"</span><span class=p>,</span> <span class=s2>"Please try again later"</span><span class=p>])</span>

<span class=c1># Clean and report term scores</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a> <span class=o><</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>total_scores</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.mean.html#numpy.mean title=numpy.mean><span class=n>np</span><span class=o>.</span><span class=n>mean</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>Top 10 neurosynth terms from downloaded images:</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>

<span class=k>for</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"href=https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.int64 title=numpy.int64><span class=n>term_idx</span></a> <span class=ow>in</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.argsort.html#numpy.argsort title=numpy.argsort><span class=n>np</span><span class=o>.</span><span class=n>argsort</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>total_scores</span></a><span class=p>)[</span><span class=o>-</span><span class=mi>10</span><span class=p>:][::</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
    <span class=nb>print</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>vocabulary</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"href=https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.int64 title=numpy.int64><span class=n>term_idx</span></a><span class=p>])</span>
</pre></div></div><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>Fetching Neurovault images; if you haven't downloaded any Neurovault data before this will take several minutes.
Reading local neurovault data.
Already fetched 1 image
Already fetched 2 images
Already fetched 3 images
Already fetched 4 images
Already fetched 5 images
Already fetched 6 images
Already fetched 7 images
Already fetched 8 images
Already fetched 9 images
Already fetched 10 images
Already fetched 11 images
Already fetched 12 images
Already fetched 13 images
Already fetched 14 images
Already fetched 15 images
Already fetched 16 images
Already fetched 17 images
Already fetched 18 images
Already fetched 19 images
Already fetched 20 images
Already fetched 21 images
Already fetched 22 images
Already fetched 23 images
Already fetched 24 images
Already fetched 25 images
Already fetched 26 images
Already fetched 27 images
Already fetched 28 images
Already fetched 29 images
Already fetched 30 images
30 images found on local disk.
Computing word features.
Computing word features done; vocabulary size: 1307

Top 10 neurosynth terms from downloaded images:

superior temporal
auditory
task
planum temporale
temporale
planum
superior
anterior insula
parietal
posterior superior
</pre></div></div></div><div class=section id=reshape-and-mask-images><h2><span class=section-number>9.8.8.2. </span>Reshape and mask images<a title="Permalink to this headline"class=headerlink href=#reshape-and-mask-images>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=nb>print</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>Reshaping and masking images.</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>

<span class=k>with</span> <a class="sphx-glr-backref-module-warnings sphx-glr-backref-type-py-class"href=https://docs.python.org/3.8/library/warnings.html#warnings.catch_warnings title=warnings.catch_warnings><span class=n>warnings</span><span class=o>.</span><span class=n>catch_warnings</span></a><span class=p>():</span>
    <a class="sphx-glr-backref-module-warnings sphx-glr-backref-type-py-function"href=https://docs.python.org/3.8/library/warnings.html#warnings.simplefilter title=warnings.simplefilter><span class=n>warnings</span><span class=o>.</span><span class=n>simplefilter</span></a><span class=p>(</span><span class=s1>'ignore'</span><span class=p>,</span> <span class=ne>UserWarning</span><span class=p>)</span>
    <a class="sphx-glr-backref-module-warnings sphx-glr-backref-type-py-function"href=https://docs.python.org/3.8/library/warnings.html#warnings.simplefilter title=warnings.simplefilter><span class=n>warnings</span><span class=o>.</span><span class=n>simplefilter</span></a><span class=p>(</span><span class=s1>'ignore'</span><span class=p>,</span> <span class=ne>DeprecationWarning</span><span class=p>)</span>

    <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>mask_img</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-datasets sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.datasets.load_mni152_brain_mask.html#nilearn.datasets.load_mni152_brain_mask title=nilearn.datasets.load_mni152_brain_mask><span class=n>load_mni152_brain_mask</span></a><span class=p>()</span>
    <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker title=nilearn.input_data.NiftiMasker><span class=n>masker</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-class"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker title=nilearn.input_data.NiftiMasker><span class=n>NiftiMasker</span></a><span class=p>(</span>
        <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>mask_img</span></a><span class=o>=</span><a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>mask_img</span></a><span class=p>,</span> <span class=n>memory</span><span class=o>=</span><span class=s1>'nilearn_cache'</span><span class=p>,</span> <span class=n>memory_level</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
    <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker title=nilearn.input_data.NiftiMasker><span class=n>masker</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-method"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker.fit title=nilearn.input_data.NiftiMasker.fit><span class=n>masker</span><span class=o>.</span><span class=n>fit</span></a><span class=p>()</span>

    <span class=c1># Images may fail to be transformed, and are of different shapes,</span>
    <span class=c1># so we need to transform one-by-one and keep track of failures.</span>
    <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>X</span></a> <span class=o>=</span> <span class=p>[]</span>
    <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>is_usable</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.ones.html#numpy.ones title=numpy.ones><span class=n>np</span><span class=o>.</span><span class=n>ones</span></a><span class=p>((</span><span class=nb>len</span><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>images</span></a><span class=p>),),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>bool</span><span class=p>)</span>

    <span class=k>for</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>index</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#str title=builtins.str><span class=n>image_path</span></a> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>images</span></a><span class=p>):</span>
        <span class=c1># load image and remove nan and inf values.</span>
        <span class=c1># applying smooth_img to an image with fwhm=None simply cleans up</span>
        <span class=c1># non-finite values but otherwise doesn't modify the image.</span>
        <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>image</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-image sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.image.smooth_img.html#nilearn.image.smooth_img title=nilearn.image.smooth_img><span class=n>smooth_img</span></a><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#str title=builtins.str><span class=n>image_path</span></a><span class=p>,</span> <span class=n>fwhm</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
        <span class=k>try</span><span class=p>:</span>
            <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>X</span><span class=o>.</span><span class=n>append</span></a><span class=p>(</span><a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-method"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker.transform title=nilearn.input_data.NiftiMasker.transform><span class=n>masker</span><span class=o>.</span><span class=n>transform</span></a><span class=p>(</span><a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>image</span></a><span class=p>))</span>
        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=n>meta</span> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-utils sphx-glr-backref-type-py-function"href=https://scikit-learn.org/stable/modules/generated/sklearn.utils.Bunch.html#sklearn.utils.Bunch title=sklearn.utils.Bunch><span class=n>nv_data</span></a><span class=p>[</span><span class=s1>'images_meta'</span><span class=p>][</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>index</span></a><span class=p>]</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>"Failed to mask/reshape image: id: </span><span class=si>{0}</span><span class=s2>; "</span>
                  <span class=s2>"name: '</span><span class=si>{1}</span><span class=s2>'; collection: </span><span class=si>{2}</span><span class=s2>; error: </span><span class=si>{3}</span><span class=s2>"</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                      <span class=n>meta</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'id'</span><span class=p>),</span> <span class=n>meta</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'name'</span><span class=p>),</span>
                      <span class=n>meta</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'collection_id'</span><span class=p>),</span> <span class=n>e</span><span class=p>))</span>
            <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>is_usable</span></a><span class=p>[</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>index</span></a><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>

<span class=c1># Now reshape list into 2D matrix, and remove failed images from terms</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>X</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.vstack.html#numpy.vstack title=numpy.vstack><span class=n>np</span><span class=o>.</span><span class=n>vstack</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>X</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>is_usable</span></a><span class=p>,</span> <span class=p>:]</span>
</pre></div></div><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>Reshaping and masking images.
</pre></div></div></div><div class=section id=run-ica-and-map-components-to-terms><h2><span class=section-number>9.8.8.3. </span>Run ICA and map components to terms<a title="Permalink to this headline"class=headerlink href=#run-ica-and-map-components-to-terms>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=nb>print</span><span class=p>(</span><span class=s2>"Running ICA; may take time..."</span><span class=p>)</span>
<span class=c1># We use a very small number of components as we have downloaded only 80</span>
<span class=c1># images. For better results, increase the number of images downloaded</span>
<span class=c1># and the number of components</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>n_components</span></a> <span class=o>=</span> <span class=mi>8</span>
<a class="sphx-glr-backref-module-sklearn-decomposition sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.FastICA.html#sklearn.decomposition.FastICA title=sklearn.decomposition.FastICA><span class=n>fast_ica</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-decomposition sphx-glr-backref-type-py-class"href=https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.FastICA.html#sklearn.decomposition.FastICA title=sklearn.decomposition.FastICA><span class=n>FastICA</span></a><span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>n_components</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>n_components</span></a><span class=p>,</span> <span class=n>random_state</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ica_maps</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-sklearn-decomposition sphx-glr-backref-type-py-method"href=https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.FastICA.html#sklearn.decomposition.FastICA.fit_transform title=sklearn.decomposition.FastICA.fit_transform><span class=n>fast_ica</span><span class=o>.</span><span class=n>fit_transform</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>X</span><span class=o>.</span><span class=n>T</span></a><span class=p>)</span><span class=o>.</span><span class=n>T</span>

<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights_for_components</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.dot.html#numpy.dot title=numpy.dot><span class=n>np</span><span class=o>.</span><span class=n>dot</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>fast_ica</span><span class=o>.</span><span class=n>components_</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights</span></a><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s1>'Done, plotting results.'</span><span class=p>)</span>
</pre></div></div><p class=sphx-glr-script-out>Out:</p><div class="sphx-glr-script-out highlight-none notranslate"><div class=highlight><pre><span></span>Running ICA; may take time...
Done, plotting results.
</pre></div></div></div><div class=section id=generate-figures><h2><span class=section-number>9.8.8.4. </span>Generate figures<a title="Permalink to this headline"class=headerlink href=#generate-figures>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=k>with</span> <a class="sphx-glr-backref-module-warnings sphx-glr-backref-type-py-class"href=https://docs.python.org/3.8/library/warnings.html#warnings.catch_warnings title=warnings.catch_warnings><span class=n>warnings</span><span class=o>.</span><span class=n>catch_warnings</span></a><span class=p>():</span>
    <a class="sphx-glr-backref-module-warnings sphx-glr-backref-type-py-function"href=https://docs.python.org/3.8/library/warnings.html#warnings.simplefilter title=warnings.simplefilter><span class=n>warnings</span><span class=o>.</span><span class=n>simplefilter</span></a><span class=p>(</span><span class=s1>'ignore'</span><span class=p>,</span> <span class=ne>DeprecationWarning</span><span class=p>)</span>

    <span class=k>for</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>index</span></a><span class=p>,</span> <span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_terms</span></a><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span>
            <span class=nb>zip</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ica_maps</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>term_weights_for_components</span></a><span class=p>)):</span>
        <span class=k>if</span> <span class=o>-</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a><span class=o>.</span><span class=n>min</span><span class=p>()</span> <span class=o>></span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a><span class=o>.</span><span class=n>max</span><span class=p>():</span>
            <span class=c1># Flip the map's sign for prettiness</span>
            <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a> <span class=o>=</span> <span class=o>-</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a>
            <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_terms</span></a> <span class=o>=</span> <span class=o>-</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_terms</span></a>

        <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"href=https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64 title=numpy.float64><span class=n>ic_threshold</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-scipy-stats sphx-glr-backref-type-py-function"href=http://scipy.github.io/devdocs/reference/generated/scipy.stats.scoreatpercentile.html#scipy.stats.scoreatpercentile title=scipy.stats.scoreatpercentile><span class=n>stats</span><span class=o>.</span><span class=n>scoreatpercentile</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc title=numpy.ufunc><span class=n>np</span><span class=o>.</span><span class=n>abs</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a><span class=p>),</span> <span class=mi>90</span><span class=p>)</span>
        <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>ic_img</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-nilearn-input_data sphx-glr-backref-type-py-method"href=../../modules/generated/nilearn.input_data.NiftiMasker.html#nilearn.input_data.NiftiMasker.inverse_transform title=nilearn.input_data.NiftiMasker.inverse_transform><span class=n>masker</span><span class=o>.</span><span class=n>inverse_transform</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_map</span></a><span class=p>)</span>
        <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>important_terms</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>vocabulary</span></a><span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.argsort.html#numpy.argsort title=numpy.argsort><span class=n>np</span><span class=o>.</span><span class=n>argsort</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ic_terms</span></a><span class=p>)[</span><span class=o>-</span><span class=mi>3</span><span class=p>:]]</span>
        <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#str title=builtins.str><span class=n>title</span></a> <span class=o>=</span> <span class=s1>'IC</span><span class=si>%i</span><span class=s1>  </span><span class=si>%s</span><span class=s1>'</span> <span class=o>%</span> <span class=p>(</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>index</span></a><span class=p>,</span> <span class=s1>', '</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>important_terms</span></a><span class=p>[::</span><span class=o>-</span><span class=mi>1</span><span class=p>]))</span>

        <a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.plot_stat_map.html#nilearn.plotting.plot_stat_map title=nilearn.plotting.plot_stat_map><span class=n>plotting</span><span class=o>.</span><span class=n>plot_stat_map</span></a><span class=p>(</span>
            <a class="sphx-glr-backref-module-nibabel-nifti1 sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://nipy.org/nibabel/reference/nibabel.nifti1.html#nibabel.nifti1.Nifti1Image title=nibabel.nifti1.Nifti1Image><span class=n>ic_img</span></a><span class=p>,</span> <span class=n>threshold</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-attribute"href=https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.float64 title=numpy.float64><span class=n>ic_threshold</span></a><span class=p>,</span> <span class=n>colorbar</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
            <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#str title=builtins.str><span class=n>title</span></a><span class=o>=</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#str title=builtins.str><span class=n>title</span></a><span class=p>)</span>
</pre></div></div><ul class=sphx-glr-horizontal><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_001.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_002.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_003.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_004.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_005.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_006.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_007.png></li><li><img alt="plot ica neurovault"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_ica_neurovault_008.png></li></ul><p>As we can see, some of the components capture cognitive or neurological maps, while other capture noise in the database. More data, better filtering, and better cognitive labels would give better maps</p><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=c1># Done.</span>
<a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.show.html#nilearn.plotting.show title=nilearn.plotting.show><span class=n>plotting</span><span class=o>.</span><span class=n>show</span></a><span class=p>()</span>
</pre></div></div><p class=sphx-glr-timing><strong>Total running time of the script:</strong> ( 0 minutes 43.894 seconds)</p><div class="sphx-glr-footer class sphx-glr-footer-example docutils container"id=sphx-glr-download-auto-examples-07-advanced-plot-ica-neurovault-py><div class="binder-badge docutils container"><a class="reference external image-reference"href=https://mybinder.org/v2/gh/nilearn/nilearn.github.io/main?filepath=examples/auto_examples/07_advanced/plot_ica_neurovault.ipynb><img alt="Launch binder"src=../../_images/binder_badge_logo6.svg width=150px></a></div><div class="sphx-glr-download sphx-glr-download-python docutils container"><p><a class="reference download internal"download href=../../_downloads/eab7fae79964c47a34f4a42961bd9e63/plot_ica_neurovault.py><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Python</span> <span class=pre>source</span> <span class=pre>code:</span> <span class=pre>plot_ica_neurovault.py</span></code></a></p></div><div class="sphx-glr-download sphx-glr-download-jupyter docutils container"><p><a class="reference download internal"download href=../../_downloads/1dd3df3becba1a00730b344507d5bdd4/plot_ica_neurovault.ipynb><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Jupyter</span> <span class=pre>notebook:</span> <span class=pre>plot_ica_neurovault.ipynb</span></code></a></p></div></div><p class=sphx-glr-signature><a class="reference external"href=https://sphinx-gallery.github.io>Gallery generated by Sphinx-Gallery</a></p></div></div><div class=clearer></div></div></div></div><div aria-label="main navigation"class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><h4>Giving credit</h4><ul class=simple><li><p>Please consider <a href=../../authors.html#citing>citing the papers</a>.</p></li></ul><h3><a href=../../index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>9.8.8. NeuroVault cross-study ICA maps.</a><ul><li><a class="reference internal"href=#get-image-and-term-data>9.8.8.1. Get image and term data</a></li><li><a class="reference internal"href=#reshape-and-mask-images>9.8.8.2. Reshape and mask images</a></li><li><a class="reference internal"href=#run-ica-and-map-components-to-terms>9.8.8.3. Run ICA and map components to terms</a></li><li><a class="reference internal"href=#generate-figures>9.8.8.4. Generate figures</a></li></ul></li></ul><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=plot_surface_bids_analysis.html><span class=section-number>9.8.7. </span>Surface-based dataset first and second level analysis of a dataset</a></p><h4>Next topic</h4><p class=topless><a title="next chapter"href=plot_haxby_mass_univariate.html><span class=section-number>9.8.9. </span>Massively univariate analysis of face vs house recognition</a></p><div id=searchbox role=search style=display:none><h3 id=searchlabel>Quick search</h3><div class=searchformwrapper><form action=../../search.html class=search><input aria-labelledby=searchlabel name=q><input type=submit value=Go></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class=clearer></div></div><div class=footer>© The nilearn developers 2010-2021. Created using <a href=http://sphinx.pocoo.org/>Sphinx</a> 4.0.2. <span style=padding-left:5ex> <a href=../../_sources/auto_examples/07_advanced/plot_ica_neurovault.rst.txt rel=nofollow>Show this page source</a> </span></div></body></html>