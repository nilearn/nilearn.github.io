<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Nilearn: Statistical Analysis for NeuroImaging in Python — Machine learning for NeuroImaging</title><link href=_static/pygments.css rel=stylesheet><link href=_static/nature.css rel=stylesheet><link href=_static/copybutton.css rel=stylesheet><link href=_static/gallery.css rel=stylesheet><link href=_static/gallery-binder.css rel=stylesheet><link href=_static/gallery-dataframe.css rel=stylesheet><script data-url_root=./ id=documentation_options src=_static/documentation_options.js></script><script src=_static/jquery.js></script><script src=_static/underscore.js></script><script src=_static/doctools.js></script><script src=_static/clipboard.min.js></script><script src=_static/copybutton.js></script><link rel="shortcut icon"href=_static/favicon.ico><link href=search.html rel=search title=Search><link href=glossary.html rel=next title=Glossary><link title="Nilearn development process"href=development.html rel=prev><meta content=True name=HandheldFriendly><meta content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0 name=viewport><meta content="nilearn, neuroimaging, python, neuroscience, machinelearning"name=keywords><script>function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});</script><script>function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});</script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script><body><div id=logo-banner><div class=logo><a href=index.html> <img alt="Nilearn logo"border=0 src=_static/nilearn-logo.png> </a></div><div class=tags><ul><li><big><a href=auto_examples/decoding/plot_haxby_anova_svm.html>SVM</a></big></li><li><small><a href=connectivity/parcellating.html>Ward clustering</a></small></li><li><a href=decoding/searchlight.html>Searchlight</a></li><li><big><a href=connectivity/resting_state_networks.html>ICA</a></big></li><li><a href=manipulating_images/data_preparation.html>Nifti IO</a></li><li><a href=modules/reference.html#module-nilearn.datasets>Datasets</a></li></ul></div><div class=banner><h1>Nilearn:</h1><h2>Statistics for NeuroImaging in Python</h2></div><div class=search_form><div class=gcse-search id=cse style=width:100%></div><script>(function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();</script></div></div><div class=related-wrapper><div aria-label="related navigation"class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="Python Module Index"href=py-modindex.html>modules</a></li><li class=right><a accesskey=N href=glossary.html title=Glossary>next</a> |</li><li class=right><a title="Nilearn development process"accesskey=P href=development.html>previous</a> |</li><li><a href=index.html>Nilearn Home</a> | </li><li><a href=user_guide.html>User Guide</a> | </li><li><a href=auto_examples/index.html>Examples</a> | </li><li><a href=modules/reference.html>Reference</a> | </li><li id=navbar-about><a href=authors.html>About</a>| </li><li><a href=glossary.html>Glossary</a>| </li><li><a href=bibliography.html>Bibliography</a>| </li><li id=navbar-ecosystem><a href=http://www.nipy.org/>Nipy ecosystem</a></li><li class="nav-item nav-item-this"><a href>Nilearn: Statistical Analysis for NeuroImaging in Python</a></li></ul></div></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><div class=section id=nilearn-maintenance-process><span id=maintenance-process></span><h1>Nilearn maintenance process<a title="Permalink to this headline"class=headerlink href=#nilearn-maintenance-process>¶</a></h1><div class="contents local topic"id=contents><ul class=simple><li><p><a class="reference internal"href=#project-organization id=id1>Project Organization</a></p> <ul><li><p><a class="reference internal"href=#issues id=id2>Issues</a></p></li><li><p><a class="reference internal"href=#pull-requests id=id3>Pull Requests</a></p></li></ul></li><li><p><a class="reference internal"href=#how-to-make-a-release id=id4>How to make a release?</a></p> <ul><li><p><a class="reference internal"href=#prepare-the-release id=id5>Prepare the release</a></p></li><li><p><a class="reference internal"href=#build-the-distributions-and-upload-them-to-pypi id=id6>Build the distributions and upload them to Pypi</a></p></li><li><p><a class="reference internal"href=#build-and-deploy-the-documentation id=id7>Build and deploy the documentation</a></p></li><li><p><a class="reference internal"href=#post-release id=id8>Post-release</a></p></li></ul></li></ul></div><div class=section id=project-organization><h2><a class=toc-backref href=#id1>Project Organization</a><a title="Permalink to this headline"class=headerlink href=#project-organization>¶</a></h2><div class=section id=issues><h3><a class=toc-backref href=#id2>Issues</a><a title="Permalink to this headline"class=headerlink href=#issues>¶</a></h3><p>Nilearn uses issues for tracking bugs, requesting potential features, and holding project discussions.</p><p>Core developers can assign labels on issues, such as:</p><ul class=simple><li><p><img alt=Discussion src=https://img.shields.io/badge/-Discussion-bfe5bf.svg> These issues discuss ongoing discussions on the project where community feedback is requested.</p></li><li><p><img alt=Enhancement src=https://img.shields.io/badge/-Enhancement-fbca04.svg> These issues discuss potential enhancements or additions to the project.</p></li><li><p><img alt=Bug src=https://img.shields.io/badge/-Bug-fc2929.svg> These issues detail known bugs in the Nilearn code base.</p></li></ul></div><div class=section id=pull-requests><span id=pull-request></span><h3><a class=toc-backref href=#id3>Pull Requests</a><a title="Permalink to this headline"class=headerlink href=#pull-requests>¶</a></h3><p>We welcome pull requests from all community members, if they follow the <a class="reference internal"href=development.html#contribution-guidelines><span class="std std-ref">Contribution Guidelines</span></a> inspired from scikit learn conventions. (More details on their process are available <a class="reference external"href=https://scikit-learn.org/stable/developers/contributing.html#contributing-code>here</a>)</p></div></div><div class=section id=how-to-make-a-release><h2><a class=toc-backref href=#id4>How to make a release?</a><a title="Permalink to this headline"class=headerlink href=#how-to-make-a-release>¶</a></h2><p>This section describes how to make a new release of Nilearn. It is targeted to the specific case of Nilearn although it contains generic steps for packaging and distributing projects. More detailed information can be found on <a class="reference external"href=https://packaging.python.org/guides/distributing-packages-using-setuptools/#id70>packaging.python.org</a>.</p><p>We assume that we are in a clean state where all the Pull Requests (PR) that we wish to include in the new release have been merged. For example, make sure all deprecations that are supposed to be removed with this new version have been addressed. Furthermore, if this new release comes with dependency version bumps (Python, Numpy…), make sure to implement and test these changes beforehand. Ideally, these would have been done before such as to update the code base if necessary. Finally, make sure the documentation can be built correctly.</p><div class=section id=prepare-the-release><h3><a class=toc-backref href=#id5>Prepare the release</a><a title="Permalink to this headline"class=headerlink href=#prepare-the-release>¶</a></h3><p>Switch to a new branch locally:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>git checkout -b REL-x.y.z
</pre></div></div><p>First we need to prepare the release by updating the file <cite>nilearn/doc/whats_new.rst</cite> to make sure all the new features, enhancements, and bug fixes are included in their respective sections. We also need to write a “Highlights” section promoting the most important additions that come with this new release, and add the version tag just above the corresponding title:</p><div class="highlight-RST notranslate"><div class=highlight><pre><span></span><span class=p>..</span> <span class=nt>_vx.y.z:</span>

<span class=gh>x.y.z</span>
<span class=gh>=====</span>
<span class=gs>**Released MONTH YEAR**</span>

<span class=gh>HIGHLIGHTS</span>
<span class=gh>----------</span>

<span class=m>-</span> Nilearn now includes functionality A
<span class=m>-</span> ...
</pre></div></div><p>Next, we need to bump the version number of Nilearn by updating the file <cite>nilearn/version.py</cite> with the new version number, that is edit the line:</p><div class="highlight-python notranslate"><div class=highlight><pre><span></span><span class=n>__version__</span> <span class=o>=</span> <span class=n>x</span><span class=o>.</span><span class=n>y</span><span class=o>.</span><span class=n>z</span><span class=o>.</span><span class=n>dev</span>
</pre></div></div><p>to be:</p><div class="highlight-python notranslate"><div class=highlight><pre><span></span><span class=n>__version__</span> <span class=o>=</span> <span class=n>x</span><span class=o>.</span><span class=n>y</span><span class=o>.</span><span class=n>z</span>
</pre></div></div><p>We also need to update the website news section by editing the file <cite>nilearn/doc/themes/nilearn/layout.html</cite>. The news section typically contains links to the last 3 releases that should look like:</p><div class="highlight-html notranslate"><div class=highlight><pre><span></span><span class=p><</span><span class=nt>h4</span><span class=p>></span> News <span class=p>&LT/</span><span class=nt>h4</span><span class=p>></span>
    <span class=p><</span><span class=nt>ul</span><span class=p>></span>
        <span class=p><</span><span class=nt>li</span><span class=p>><</span><span class=nt>p</span><span class=p>><</span><span class=nt>strong</span><span class=p>></span>November 2020<span class=p>&LT/</span><span class=nt>strong</span><span class=p>></span>:
            <span class=p><</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>"whats_new.html#v0-7-0"</span><span class=p>></span>Nilearn 0.7.0 released<span class=p>&LT/</span><span class=nt>a</span><span class=p>></span>
        <span class=p>&LT/</span><span class=nt>p</span><span class=p>>&LT/</span><span class=nt>li</span><span class=p>></span>
        <span class=p><</span><span class=nt>li</span><span class=p>><</span><span class=nt>p</span><span class=p>><</span><span class=nt>strong</span><span class=p>></span>February 2020<span class=p>&LT/</span><span class=nt>strong</span><span class=p>></span>:
            <span class=p><</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>"whats_new.html#v0-6-2"</span><span class=p>></span>Nilearn 0.6.2 released<span class=p>&LT/</span><span class=nt>a</span><span class=p>></span>
        <span class=p>&LT/</span><span class=nt>p</span><span class=p>>&LT/</span><span class=nt>li</span><span class=p>></span>
        <span class=p><</span><span class=nt>li</span><span class=p>><</span><span class=nt>p</span><span class=p>><</span><span class=nt>strong</span><span class=p>></span>January 2020<span class=p>&LT/</span><span class=nt>strong</span><span class=p>></span>:
            <span class=p><</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>"whats_new.html#v0-6-1"</span><span class=p>></span>Nilearn 0.6.1 released<span class=p>&LT/</span><span class=nt>a</span><span class=p>></span>
        <span class=p>&LT/</span><span class=nt>p</span><span class=p>>&LT/</span><span class=nt>li</span><span class=p>></span>
    <span class=p>&LT/</span><span class=nt>ul</span><span class=p>></span>
</pre></div></div><p>Here, we should remove the last entry and add the new release on top of the list.</p><p>In addition, we can have a look at <cite>MANIFEST.in</cite> to check that all additional files that we want to be included or excluded from the release are indicated. Normally we shouldn’t have to touch this file.</p><p>Add these changes and submit a PR:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>git add doc/whats_new.rst nilearn/version.py
git commit -m <span class=s2>"REL x.y.z"</span>
git push origin REL-x.y.z
</pre></div></div><p>Once the PR has been reviewed and merged, pull from master and tag the merge commit:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>git checkout master
git pull upstream master
git tag x.y.z
git push upstream --tags
</pre></div></div></div><div class=section id=build-the-distributions-and-upload-them-to-pypi><h3><a class=toc-backref href=#id6>Build the distributions and upload them to Pypi</a><a title="Permalink to this headline"class=headerlink href=#build-the-distributions-and-upload-them-to-pypi>¶</a></h3><p>First of all we should make sure we don’t include files that shouldn’t be present:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>git checkout x.y.z
</pre></div></div><p>If the workspace contains a <cite>dist</cite> folder, make sure to clean it:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>rm -r dist
</pre></div></div><p>In order to build the binary wheel files, we need to install <a class="reference external"href=https://pypi.org/project/wheel/>wheel</a>:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>pip install wheel
</pre></div></div><p>And, in order to upload to <cite>Pypi</cite>, we will use <a class="reference external"href=https://pypi.org/project/twine/>twine</a> that you can also install with <cite>pip</cite>:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>pip install twine
</pre></div></div><p>Build the source and binary distributions:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>python setup.py sdist bdist_wheel
</pre></div></div><p>This should add two files to the <cite>dist</cite> subfolder:</p><ul class=simple><li><p>one for the source distribution that should look like <cite>PACKAGENAME-VERSION.tar.gz</cite></p></li><li><p>one for the built distribution that should look like <cite>PACKAGENAME-PACKAGEVERSION-PYTHONVERSION-PYTHONCVERSION-PLATFORM.whl</cite></p></li></ul><p>Optionally, we can run some basic checks with <cite>twine</cite>:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>twine check dist/*
</pre></div></div><p>We are now ready to upload to <cite>Pypi</cite>. Note that you will need to have an <a class="reference external"href=https://pypi.org/account/register/>account on Pypi</a>, and be added to the maintainers of <a class="reference external"href=https://pypi.org/project/nilearn/>Nilearn</a>. If you satisfy these conditions, you should be able to run:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span>twine upload dist/*
</pre></div></div><p>Once the upload is completed, make sure everything looks good on <a class="reference external"href=https://pypi.org/project/nilearn/>Pypi</a>. Otherwise you will probably have to fix the issue and start over a new release with the patch number incremented.</p><p>At this point, we need to upload the binaries to GitHub and link them to the tag. To do so, go to the <a class="reference external"href=https://github.com/nilearn/nilearn/tags>Nilearn GitHub page</a> under the “Releases” tab, and edit the <cite>x.y.z</cite> tag by providing a description, and upload the distributions we just created (you can just drag and drop the files).</p></div><div class=section id=build-and-deploy-the-documentation><h3><a class=toc-backref href=#id7>Build and deploy the documentation</a><a title="Permalink to this headline"class=headerlink href=#build-and-deploy-the-documentation>¶</a></h3><p>We now need to update the documentation:</p><div class="highlight-bash notranslate"><div class=highlight><pre><span></span><span class=nb>cd</span> doc
make install
</pre></div></div><p>This will build the documentation (beware, this is time consuming…) and push it to the <a class="reference external"href=https://github.com/nilearn/nilearn.github.io>GitHub pages repo</a>.</p></div><div class=section id=post-release><h3><a class=toc-backref href=#id8>Post-release</a><a title="Permalink to this headline"class=headerlink href=#post-release>¶</a></h3><p>At this point, the release has been made. We can now update the file <cite>nilearn/version.py</cite> and update the version number by increasing the patch number and appending <cite>.dev</cite>:</p><div class="highlight-python notranslate"><div class=highlight><pre><span></span><span class=n>__version__</span> <span class=o>=</span> <span class=n>x</span><span class=o>.</span><span class=n>y</span><span class=o>.</span><span class=p>(</span><span class=n>z</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>dev</span>
</pre></div></div><p>We can also update the file <cite>doc/whats_new.rst</cite> by adding a title and the usual <cite>New</cite>, <cite>Enhancements</cite>, and <cite>Bug Fixes</cite> sections for the version currently under development:</p><div class="highlight-RST notranslate"><div class=highlight><pre><span></span><span class=gh>x.y.z+1.dev</span>
<span class=gh>=========</span>

<span class=gh>NEW</span>
<span class=gh>---</span>

<span class=gh>Fixes</span>
<span class=gh>-----</span>

<span class=gh>Enhancements</span>
<span class=gh>------------</span>

<span class=p>..</span> <span class=nt>_vx.y.z:</span>

<span class=gh>x.y.z</span>
<span class=gh>=====</span>
<span class=cp>...</span>
</pre></div></div></div></div></div><div class=clearer></div></div></div></div><div aria-label="main navigation"class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><h4>Giving credit</h4><ul class=simple><li><p>Please consider <a href=authors.html#citing>citing the papers</a>.</p></li></ul><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>Nilearn maintenance process</a><ul><li><a class="reference internal"href=#project-organization>Project Organization</a><ul><li><a class="reference internal"href=#issues>Issues</a></li><li><a class="reference internal"href=#pull-requests>Pull Requests</a></li></ul></li><li><a class="reference internal"href=#how-to-make-a-release>How to make a release?</a><ul><li><a class="reference internal"href=#prepare-the-release>Prepare the release</a></li><li><a class="reference internal"href=#build-the-distributions-and-upload-them-to-pypi>Build the distributions and upload them to Pypi</a></li><li><a class="reference internal"href=#build-and-deploy-the-documentation>Build and deploy the documentation</a></li><li><a class="reference internal"href=#post-release>Post-release</a></li></ul></li></ul></li></ul><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=development.html>Nilearn development process</a></p><h4>Next topic</h4><p class=topless><a title="next chapter"href=glossary.html>Glossary</a></p><div id=searchbox role=search style=display:none><h3 id=searchlabel>Quick search</h3><div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel name=q><input type=submit value=Go></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class=clearer></div></div><div class=footer>© The nilearn developers 2010-2021. Created using <a href=http://sphinx.pocoo.org/>Sphinx</a> 4.0.2. <span style=padding-left:5ex> <a href=_sources/maintenance.rst.txt rel=nofollow>Show this page source</a> </span></div></body></html>