<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><meta content="8.5.16. nilearn.image.resample_img"property=og:title><meta content=website property=og:type><meta content=https://nilearn.github.io/modules/generated/nilearn.image.resample_img.html property=og:url><meta content=Nilearn property=og:site_name><meta content="Examples using nilearn.image.resample_img: Single-subject data (two sessions) in native space Single-subject data (two sessions) in native space, Resample an image to a template Resample an image t..."property=og:description><meta content=../../_images/sphx_glr_plot_spm_multimodal_faces_thumb.png property=og:image><meta content="Single-subject data (two sessions) in native space"property=og:image:alt><title>Nilearn: Statistical Analysis for NeuroImaging in Python — Machine learning for NeuroImaging</title><link href=../../_static/pygments.css rel=stylesheet><link href=../../_static/nature.css rel=stylesheet><link href=../../_static/copybutton.css rel=stylesheet><link href=../../_static/sg_gallery.css rel=stylesheet><link href=../../_static/sg_gallery-binder.css rel=stylesheet><link href=../../_static/sg_gallery-dataframe.css rel=stylesheet><link href=../../_static/sg_gallery-rendered-html.css rel=stylesheet><script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script><script src=../../_static/jquery.js></script><script src=../../_static/underscore.js></script><script src=../../_static/doctools.js></script><script src=../../_static/clipboard.min.js></script><script src=../../_static/copybutton.js></script><link rel="shortcut icon"href=../../_static/favicon.ico><link href=../../search.html rel=search title=Search><link title="8.5.17. nilearn.image.resample_to_img"href=nilearn.image.resample_to_img.html rel=next><link title="8.5.15. nilearn.image.new_img_like"href=nilearn.image.new_img_like.html rel=prev><meta content=True name=HandheldFriendly><meta content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0 name=viewport><meta content="nilearn, neuroimaging, python, neuroscience, machinelearning"name=keywords><script>function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});</script><script>function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});</script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script><body><div id=logo-banner><div class=logo><a href=../../index.html> <img alt="Nilearn logo"border=0 src=../../_static/nilearn-logo.png> </a></div><div class=tags><ul><li><big><a href=../../auto_examples/decoding/plot_haxby_anova_svm.html>SVM</a></big></li><li><small><a href=../../connectivity/parcellating.html>Ward clustering</a></small></li><li><a href=../../decoding/searchlight.html>Searchlight</a></li><li><big><a href=../../connectivity/resting_state_networks.html>ICA</a></big></li><li><a href=../../manipulating_images/data_preparation.html>Nifti IO</a></li><li><a href=../reference.html#module-nilearn.datasets>Datasets</a></li></ul></div><div class=banner><h1>Nilearn:</h1><h2>Statistics for NeuroImaging in Python</h2></div><div class=search_form><div class=gcse-search id=cse style=width:100%></div><script>(function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();</script></div></div><div class=related-wrapper><div aria-label="related navigation"class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="Python Module Index"href=../../py-modindex.html>modules</a></li><li class=right><a title="8.5.17. nilearn.image.resample_to_img"accesskey=N href=nilearn.image.resample_to_img.html>next</a> |</li><li class=right><a title="8.5.15. nilearn.image.new_img_like"accesskey=P href=nilearn.image.new_img_like.html>previous</a> |</li><li><a href=../../index.html>Nilearn Home</a> | </li><li><a href=../../user_guide.html>User Guide</a> | </li><li><a href=../../auto_examples/index.html>Examples</a> | </li><li><a href=../reference.html>Reference</a> | </li><li id=navbar-about><a href=../../authors.html>About</a>| </li><li><a href=../../glossary.html>Glossary</a>| </li><li><a href=../../bibliography.html>Bibliography</a>| </li><li id=navbar-ecosystem><a href=http://www.nipy.org/>Nipy ecosystem</a></li><li class="nav-item nav-item-1"><a href=../../user_guide.html>User guide: table of contents</a> »</li><li class="nav-item nav-item-2"><a accesskey=U href=../reference.html><span class=section-number>8. </span>Reference documentation: all nilearn functions</a> »</li><li class="nav-item nav-item-this"><a href>Nilearn: Statistical Analysis for NeuroImaging in Python</a></li></ul></div></div><div class=stable-banner>This is the <em>stable</em> documentation for the latest release of Nilearn, the current development version is available <a href=https://nilearn.github.io/dev/index.html>here</a>.</div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><div class="admonition note"><p class=admonition-title>Note</p><p>This page is a reference documentation. It only explains the function signature, and not how to use it. Please refer to the <a class="reference internal"href=../../user_guide.html#user-guide><span class="std std-ref">user guide</span></a> for the big picture.</p></div><div class=section id=nilearn-image-resample-img><h1><span class=section-number>8.5.16. </span>nilearn.image.resample_img<a title="Permalink to this headline"class=headerlink href=#nilearn-image-resample-img>¶</a></h1><dl class="py function"><dt class="sig sig-object py"id=nilearn.image.resample_img><span class="sig-prename descclassname"><span class=pre>nilearn.image.</span></span><span class="sig-name descname"><span class=pre>resample_img</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>img</span></span></em>, <em class=sig-param><span class=n><span class=pre>target_affine</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>target_shape</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>interpolation</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'continuous'</span></span></em>, <em class=sig-param><span class=n><span class=pre>copy</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>order</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'F'</span></span></em>, <em class=sig-param><span class=n><span class=pre>clip</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>fill_value</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>0</span></span></em>, <em class=sig-param><span class=n><span class=pre>force_resample</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>False</span></span></em><span class=sig-paren>)</span><a class="reference external"href=https://github.com/nilearn/nilearn/blob/72e810f01/nilearn/image/resampling.py#L304><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Permalink to this definition"class=headerlink href=#nilearn.image.resample_img>¶</a></dt><dd><p>Resample a Niimg-like object</p> <dl class="field-list simple"><dt class=field-odd>Parameters</dt><dd class=field-odd><dl class=simple><dt><strong>img</strong><span class=classifier>Niimg-like object</span></dt><dd><p>See <a class="reference external"href=http://nilearn.github.io/manipulating_images/input_output.html>http://nilearn.github.io/manipulating_images/input_output.html</a> Image(s) to resample.</p></dd><dt><strong>target_affine</strong><span class=classifier>numpy.ndarray, optional</span></dt><dd><p>If specified, the image is resampled corresponding to this new affine. target_affine can be a 3x3 or a 4x4 matrix. (See notes)</p></dd><dt><strong>target_shape</strong><span class=classifier>tuple or list, optional</span></dt><dd><p>If specified, the image will be resized to match this new shape. len(target_shape) must be equal to 3. If target_shape is specified, a target_affine of shape (4, 4) must also be given. (See notes)</p></dd><dt><strong>interpolation</strong><span class=classifier>str, optional</span></dt><dd><p>Can be ‘continuous’, ‘linear’, or ‘nearest’. Indicates the resample method. Default=’continuous’.</p></dd><dt><strong>copy</strong><span class=classifier>bool, optional</span></dt><dd><p>If True, guarantees that output array has no memory in common with input array. In all cases, input images are never modified by this function. Default=True.</p></dd><dt><strong>order</strong><span class=classifier>“F” or “C”, optional</span></dt><dd><p>Data ordering in output array. This function is slightly faster with Fortran ordering. Default=’F’.</p></dd><dt><strong>clip</strong><span class=classifier>bool, optional</span></dt><dd><p>If True (default) all resampled image values above max(img) and under min(img) are clipped to min(img) and max(img). Note that 0 is added as an image value for clipping, and it is the padding value when extrapolating out of field of view. If False no clip is performed. Default=True.</p></dd><dt><strong>fill_value</strong><span class=classifier>float, optional</span></dt><dd><p>Use a fill value for points outside of input volume. Default=0.</p></dd><dt><strong>force_resample</strong><span class=classifier>bool, optional</span></dt><dd><p>Intended for testing, this prevents the use of a padding optimzation. Default=False.</p></dd></dl></dd><dt class=field-even>Returns</dt><dd class=field-even><dl class=simple><dt><strong>resampled</strong><span class=classifier>nibabel.Nifti1Image</span></dt><dd><p>input image, resampled to have respectively target_shape and target_affine as shape and affine.</p></dd></dl></dd></dl> <div class="admonition seealso"><p class=admonition-title>See also</p><dl class=simple><dt><a class="reference internal"href=nilearn.image.resample_to_img.html#nilearn.image.resample_to_img title=nilearn.image.resample_to_img><code class="xref py py-obj docutils literal notranslate"><span class=pre>nilearn.image.resample_to_img</span></code></a></dt><dd></dd></dl></div> <p class=rubric>Notes</p> <p><strong>BoundingBoxError</strong> If a 4x4 transformation matrix (target_affine) is given and all of the transformed data points have a negative voxel index along one of the axis, then none of the data will be visible in the transformed image and a BoundingBoxError will be raised.</p> <p>If a 4x4 transformation matrix (target_affine) is given and no target shape is provided, the resulting image will have voxel coordinate (0, 0, 0) in the affine offset (4th column of target affine) and will extend far enough to contain all the visible data and a margin of one voxel.</p> <p><strong>3x3 transformation matrices</strong> If a 3x3 transformation matrix is given as target_affine, it will be assumed to represent the three coordinate axes of the target space. In this case the affine offset (4th column of a 4x4 transformation matrix) as well as the target_shape will be inferred by resample_img, such that the resulting field of view is the closest possible (with a margin of 1 voxel) bounding box around the transformed data.</p> <p>In certain cases one may want to obtain a transformed image with the closest bounding box around the data, which at the same time respects a voxel grid defined by a 4x4 affine transformation matrix. In this case, one resamples the image using this function given the target affine and no target shape. One then uses crop_img on the result.</p> <p><strong>NaNs and infinite values</strong> This function handles gracefully NaNs and infinite values in the input data, however they make the execution of the function much slower.</p> <p><strong>Handling non-native endian in given Nifti images</strong> This function automatically changes the byte-ordering information in the image dtype to new byte order. From non-native to native, which implies that if the given image has non-native endianness then the output data in Nifti image will have native dtype. This is only the case when if the given target_affine (transformation matrix) is diagonal and homogeneous.</p></dd></dl><div class=section id=examples-using-nilearn-image-resample-img><h2><span class=section-number>8.5.16.1. </span>Examples using <code class="docutils literal notranslate"><span class=pre>nilearn.image.resample_img</span></code><a title="Permalink to this headline"class=headerlink href=#examples-using-nilearn-image-resample-img>¶</a></h2><div tooltip="The example shows the analysis of an SPM dataset studying face perception.  The analysis is per..."class=sphx-glr-thumbcontainer><div class="figure align-default"id=id1><img alt="Single-subject data (two sessions) in native space"src=../../_images/sphx_glr_plot_spm_multimodal_faces_thumb.png><p class=caption><span class=caption-text><a class="reference internal"href=../../auto_examples/04_glm_first_level/plot_spm_multimodal_faces.html#sphx-glr-auto-examples-04-glm-first-level-plot-spm-multimodal-faces-py><span class="std std-ref">Single-subject data (two sessions) in native space</span></a></span><a title="Permalink to this image"class=headerlink href=#id1>¶</a></p></div></div><div tooltip="The goal of this example is to illustrate the use of the function nilearn.image.resample_to_img..."class=sphx-glr-thumbcontainer><div class="figure align-default"id=id2><img alt="Resample an image to a template"src=../../_images/sphx_glr_plot_resample_to_template_thumb.png><p class=caption><span class=caption-text><a class="reference internal"href=../../auto_examples/06_manipulating_images/plot_resample_to_template.html#sphx-glr-auto-examples-06-manipulating-images-plot-resample-to-template-py><span class="std std-ref">Resample an image to a template</span></a></span><a title="Permalink to this image"class=headerlink href=#id2>¶</a></p></div></div><div tooltip="This example shows how an affine resampling works."class=sphx-glr-thumbcontainer><div class="figure align-default"id=id3><img alt="Visualization of affine resamplings"src=../../_images/sphx_glr_plot_affine_transformation_thumb.png><p class=caption><span class=caption-text><a class="reference internal"href=../../auto_examples/06_manipulating_images/plot_affine_transformation.html#sphx-glr-auto-examples-06-manipulating-images-plot-affine-transformation-py><span class="std std-ref">Visualization of affine resamplings</span></a></span><a title="Permalink to this image"class=headerlink href=#id3>¶</a></p></div></div><div style=clear:both></div></div></div><div class=clearer></div></div></div></div><div aria-label="main navigation"class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><h4>Giving credit</h4><ul class=simple><li><p>Please consider <a href=../../authors.html#citing>citing the papers</a>.</p></li></ul><h3><a href=../../index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>8.5.16. nilearn.image.resample_img</a><ul><li><a class="reference internal"href=#examples-using-nilearn-image-resample-img>8.5.16.1. Examples using <code class="docutils literal notranslate"><span class=pre>nilearn.image.resample_img</span></code></a></li></ul></li></ul><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=nilearn.image.new_img_like.html><span class=section-number>8.5.15. </span>nilearn.image.new_img_like</a></p><h4>Next topic</h4><p class=topless><a title="next chapter"href=nilearn.image.resample_to_img.html><span class=section-number>8.5.17. </span>nilearn.image.resample_to_img</a></p><div id=searchbox role=search style=display:none><h3 id=searchlabel>Quick search</h3><div class=searchformwrapper><form action=../../search.html class=search><input aria-labelledby=searchlabel name=q><input type=submit value=Go></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class=clearer></div></div><div class=footer>© The nilearn developers 2010-2022. Created using <a href=http://sphinx.pocoo.org/>Sphinx</a> 4.0.2. <span style=padding-left:5ex> <a href=../../_sources/modules/generated/nilearn.image.resample_img.rst.txt rel=nofollow>Show this page source</a> </span></div></body></html>