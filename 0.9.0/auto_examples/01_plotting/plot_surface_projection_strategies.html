<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><meta content="9.2.12. Technical point: Illustration of the volume to surface sampling schemes"property=og:title><meta content=website property=og:type><meta content=https://nilearn.github.io/auto_examples/01_plotting/plot_surface_projection_strategies.html property=og:url><meta content=Nilearn property=og:site_name><meta content="In nilearn, nilearn.surface.vol_to_surf allows us to measure values of a 3d volume at the nodes of a cortical mesh, transforming it into surface data. This data can then be plotted with nilearn.plo..."property=og:description><meta content=https://nilearn.github.io/_static/nilearn-logo.png property=og:image><meta content=Nilearn property=og:image:alt><title>Nilearn: Statistical Analysis for NeuroImaging in Python — Machine learning for NeuroImaging</title><link href=../../_static/pygments.css rel=stylesheet><link href=../../_static/nature.css rel=stylesheet><link href=../../_static/copybutton.css rel=stylesheet><link href=../../_static/sg_gallery.css rel=stylesheet><link href=../../_static/sg_gallery-binder.css rel=stylesheet><link href=../../_static/sg_gallery-dataframe.css rel=stylesheet><link href=../../_static/sg_gallery-rendered-html.css rel=stylesheet><script data-url_root=../../ id=documentation_options src=../../_static/documentation_options.js></script><script src=../../_static/jquery.js></script><script src=../../_static/underscore.js></script><script src=../../_static/doctools.js></script><script src=../../_static/clipboard.min.js></script><script src=../../_static/copybutton.js></script><link rel="shortcut icon"href=../../_static/favicon.ico><link href=../../search.html rel=search title=Search><link title="9.2.13. Plotting tools in nilearn"href=plot_demo_plotting.html rel=next><link title="9.2.11. Plot Haxby masks"href=plot_haxby_masks.html rel=prev><meta content=True name=HandheldFriendly><meta content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0 name=viewport><meta content="nilearn, neuroimaging, python, neuroscience, machinelearning"name=keywords><script>function updateTopMenuPosition(height, width) {
    if($(window).scrollTop() > height && $(window).outerWidth() > 1024) {
        //begin to scroll
        $('.related-wrapper').css("z-index", 1000);
        $('.related-wrapper').css("position", "sticky");
        $('.related-wrapper').css("top", 0);
        $('.related-wrapper').css("width", width)
    } else {
        //lock it back into place
        $('.related-wrapper').css("position", "relative");
        $('.related-wrapper').css("top", 0)
    }
}

$(function() {
    var banner_height = $('#logo-banner').outerHeight();
    var banner_width = $('#logo-banner').outerWidth();
    var width = $('.related-wrapper').css("height", $('.related').outerHeight());

    updateTopMenuPosition(banner_height, width);

    $(window).scroll(function(event) {
        updateTopMenuPosition(banner_height, width)
    });

    $(window).resize(function(event) {
        var banner_width = $('#logo-banner').outerWidth();
        var menu_height = $('.related').outerHeight();
        $('.related').css("width", banner_width);
        $('.related-wrapper').css("height", menu_height);
        updateTopMenuPosition(banner_height, width)
    })
});</script><script>function updateSideBarPosition(top, offset, sections) {
    var pos = $(window).scrollTop();
    // Lock the table of content to a fixed position once we scroll enough
    var topShift = 2 * offset;
    if(pos > top + topShift + 1) {
        // begin to scroll with sticky menu bar
        var topShift = -topShift + 1;
        if ($(window).outerWidth() < 1024) {
            // compensate top menu that disappears
            topShift -= offset + 1
        }
        $('.sphinxsidebarwrapper').css("position", "fixed");
        $('.sphinxsidebarwrapper').css("top", topShift)
    }
    else {
        //lock it back into place
        $('.sphinxsidebarwrapper').css("position", "relative");
        $('.sphinxsidebarwrapper').css("top",0)
    }

    // Highlight the current section
    i = 0;
    current_section = 0;
    $('a.internal').removeClass('active');
    for(i in sections) {
        if(sections[i] > pos) {
            break
        }
        if($('a.internal[href$="' + i + '"]').is(':visible')){
            current_section = i
        }
    }
    $('a.internal[href$="' + current_section + '"]').addClass('active');
    $('a.internal[href$="' + current_section + '"]').parent().addClass('active')
}

$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var tocOffset = $('.related-wrapper').outerHeight();
    var marginTop = parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0));
    var top = $('.sphinxsidebarwrapper').offset().top - marginTop;
    sections = {};
    url = document.URL.replace(/#.*$/, "");

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50
    });

    updateSideBarPosition(top, tocOffset, sections);

    $(window).scroll(function(event) {
        updateSideBarPosition(top, tocOffset, sections)
    });

    $(window).resize(function(event) {
        tocOffset = $('.related-wrapper').outerHeight();
        updateSideBarPosition(top, tocOffset, sections)
    });
});</script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script><body><div id=logo-banner><div class=logo><a href=../../index.html> <img alt="Nilearn logo"border=0 src=../../_static/nilearn-logo.png> </a></div><div class=tags><ul><li><big><a href=../decoding/plot_haxby_anova_svm.html>SVM</a></big></li><li><small><a href=../../connectivity/parcellating.html>Ward clustering</a></small></li><li><a href=../../decoding/searchlight.html>Searchlight</a></li><li><big><a href=../../connectivity/resting_state_networks.html>ICA</a></big></li><li><a href=../../manipulating_images/data_preparation.html>Nifti IO</a></li><li><a href=../../modules/reference.html#module-nilearn.datasets>Datasets</a></li></ul></div><div class=banner><h1>Nilearn:</h1><h2>Statistics for NeuroImaging in Python</h2></div><div class=search_form><div class=gcse-search id=cse style=width:100%></div><script>(function() {
        var cx = '017289614950330089114:elrt9qoutrq';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();</script></div></div><div class=related-wrapper><div aria-label="related navigation"class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="Python Module Index"href=../../py-modindex.html>modules</a></li><li class=right><a title="9.2.13. Plotting tools in nilearn"accesskey=N href=plot_demo_plotting.html>next</a> |</li><li class=right><a title="9.2.11. Plot Haxby masks"accesskey=P href=plot_haxby_masks.html>previous</a> |</li><li><a href=../../index.html>Nilearn Home</a> | </li><li><a href=../../user_guide.html>User Guide</a> | </li><li><a href=../index.html>Examples</a> | </li><li><a href=../../modules/reference.html>Reference</a> | </li><li id=navbar-about><a href=../../authors.html>About</a>| </li><li><a href=../../glossary.html>Glossary</a>| </li><li><a href=../../bibliography.html>Bibliography</a>| </li><li id=navbar-ecosystem><a href=http://www.nipy.org/>Nipy ecosystem</a></li><li class="nav-item nav-item-1"><a href=../../user_guide.html>User guide: table of contents</a> »</li><li class="nav-item nav-item-2"><a accesskey=U href=../index.html><span class=section-number>9. </span>Nilearn usage examples</a> »</li><li class="nav-item nav-item-this"><a href>Nilearn: Statistical Analysis for NeuroImaging in Python</a></li></ul></div></div><div class=stable-banner>This is the <em>stable</em> documentation for the latest release of Nilearn, the current development version is available <a href=https://nilearn.github.io/dev/index.html>here</a>.</div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><div class="sphx-glr-download-link-note admonition note"><p class=admonition-title>Note</p><p>Click <a class="reference internal"href=#sphx-glr-download-auto-examples-01-plotting-plot-surface-projection-strategies-py><span class="std std-ref">here</span></a> to download the full example code or to run this example in your browser via Binder</p></div><div class="sphx-glr-example-title section"id=technical-point-illustration-of-the-volume-to-surface-sampling-schemes><span id=sphx-glr-auto-examples-01-plotting-plot-surface-projection-strategies-py></span><h1><span class=section-number>9.2.12. </span>Technical point: Illustration of the volume to surface sampling schemes<a title="Permalink to this headline"class=headerlink href=#technical-point-illustration-of-the-volume-to-surface-sampling-schemes>¶</a></h1><p>In nilearn, <a class="reference internal"href=../../modules/generated/nilearn.surface.vol_to_surf.html#nilearn.surface.vol_to_surf title=nilearn.surface.vol_to_surf><code class="xref py py-func docutils literal notranslate"><span class=pre>nilearn.surface.vol_to_surf</span></code></a> allows us to measure values of a 3d volume at the nodes of a cortical mesh, transforming it into surface data. This data can then be plotted with <a class="reference internal"href=../../modules/generated/nilearn.plotting.plot_surf_stat_map.html#nilearn.plotting.plot_surf_stat_map title=nilearn.plotting.plot_surf_stat_map><code class="xref py py-func docutils literal notranslate"><span class=pre>nilearn.plotting.plot_surf_stat_map</span></code></a> for example.</p><p>This script shows, on a toy example, where samples are drawn around each mesh vertex. Image values are interpolated at each sample location, then these samples are averaged to produce a value for the vertex.</p><p>Three strategies are available to choose sample locations: they can be spread between corresponding nodes when we have two nested surfaces (e.g. a white matter and a pial surface), along the normal at each node, or inside a ball around each node. Don’t worry too much about choosing one or the other: they take a similar amount of time and give almost identical results for most images. If you do have both pial and white matter surfaces (as for the fsaverage and fsaverage5 surfaces fetched by <cite>nilearn.datasets</cite>) we recommend passing both to <cite>vol_to_surf</cite>.</p><div class="highlight-default notranslate"><div class=highlight><pre><span></span><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>

<span class=kn>import</span> <span class=nn>matplotlib</span>
<span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>pyplot</span> <span class=k>as</span> <span class=n>plt</span>

<span class=kn>from</span> <span class=nn>nilearn.surface</span> <span class=kn>import</span> <span class=n>surface</span>
<span class=kn>from</span> <span class=nn>nilearn.plotting</span> <span class=kn>import</span> <a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.show.html#nilearn.plotting.show title=nilearn.plotting.show><span class=n>show</span></a>
</pre></div></div><div class=section id=build-a-mesh-of-a-cylinder><h2><span class=section-number>9.2.12.1. </span>Build a mesh (of a cylinder)<a title="Permalink to this headline"class=headerlink href=#build-a-mesh-of-a-cylinder>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_Z</span></a> <span class=o>=</span> <span class=mi>5</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_T</span></a> <span class=o>=</span> <span class=mi>10</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>u</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>v</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-data"href=https://numpy.org/doc/stable/reference/generated/numpy.mgrid.html#numpy.mgrid title=numpy.mgrid><span class=n>np</span><span class=o>.</span><span class=n>mgrid</span></a><span class=p>[:</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_T</span></a><span class=p>,</span> <span class=p>:</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_Z</span></a><span class=p>]</span>
<a class="sphx-glr-backref-module-matplotlib-tri sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://matplotlib.org/stable/api/tri_api.html#matplotlib.tri.Triangulation title=matplotlib.tri.Triangulation><span class=n>triangulation</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-tri sphx-glr-backref-type-py-class"href=https://matplotlib.org/stable/api/tri_api.html#matplotlib.tri.Triangulation title=matplotlib.tri.Triangulation><span class=n>matplotlib</span><span class=o>.</span><span class=n>tri</span><span class=o>.</span><span class=n>Triangulation</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>u</span></a><span class=o>.</span><span class=n>flatten</span><span class=p>(),</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>v</span></a><span class=o>.</span><span class=n>flatten</span><span class=p>())</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>angles</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>u</span></a><span class=o>.</span><span class=n>flatten</span><span class=p>()</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#float title=builtins.float><span class=n>np</span><span class=o>.</span><span class=n>pi</span></a> <span class=o>/</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_T</span></a>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>x</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc title=numpy.ufunc><span class=n>np</span><span class=o>.</span><span class=n>cos</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>angles</span></a><span class=p>),</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc title=numpy.ufunc><span class=n>np</span><span class=o>.</span><span class=n>sin</span></a><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>angles</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>z</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>v</span></a><span class=o>.</span><span class=n>flatten</span><span class=p>()</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>/</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/functions.html#int title=builtins.int><span class=n>N_Z</span></a>

<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a> <span class=o>=</span> <span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.asarray.html#numpy.asarray title=numpy.asarray><span class=n>np</span><span class=o>.</span><span class=n>asarray</span></a><span class=p>([</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>x</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>z</span></a><span class=p>])</span><span class=o>.</span><span class=n>T</span><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>]</span>
<a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>inner_mesh</span></a> <span class=o>=</span> <span class=p>[[</span><span class=o>.</span><span class=mi>7</span><span class=p>,</span> <span class=o>.</span><span class=mi>7</span><span class=p>,</span> <span class=mf>1.</span><span class=p>]</span> <span class=o>*</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>]</span>
</pre></div></div></div><div class=section id=get-the-locations-from-which-vol-to-surf-would-draw-its-samples><h2><span class=section-number>9.2.12.2. </span>Get the locations from which vol_to_surf would draw its samples<a title="Permalink to this headline"class=headerlink href=#get-the-locations-from-which-vol-to-surf-would-draw-its-samples>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>nested_sample_points</span></a> <span class=o>=</span> <span class=n>surface</span><span class=o>.</span><span class=n>_sample_locations_between_surfaces</span><span class=p>(</span>
    <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>inner_mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.eye.html#numpy.eye title=numpy.eye><span class=n>np</span><span class=o>.</span><span class=n>eye</span></a><span class=p>(</span><span class=mi>4</span><span class=p>))</span>

<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>line_sample_points</span></a> <span class=o>=</span> <span class=n>surface</span><span class=o>.</span><span class=n>_line_sample_locations</span><span class=p>(</span>
    <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.eye.html#numpy.eye title=numpy.eye><span class=n>np</span><span class=o>.</span><span class=n>eye</span></a><span class=p>(</span><span class=mi>4</span><span class=p>),</span> <span class=n>segment_half_width</span><span class=o>=.</span><span class=mi>2</span><span class=p>,</span> <span class=n>n_points</span><span class=o>=</span><span class=mi>6</span><span class=p>)</span>

<a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ball_sample_points</span></a> <span class=o>=</span> <span class=n>surface</span><span class=o>.</span><span class=n>_ball_sample_locations</span><span class=p>(</span>
    <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.eye.html#numpy.eye title=numpy.eye><span class=n>np</span><span class=o>.</span><span class=n>eye</span></a><span class=p>(</span><span class=mi>4</span><span class=p>),</span> <span class=n>ball_radius</span><span class=o>=.</span><span class=mi>15</span><span class=p>,</span> <span class=n>n_points</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>
</pre></div></div></div><div class=section id=plot-the-mesh-and-the-sample-locations><h2><span class=section-number>9.2.12.3. </span>Plot the mesh and the sample locations<a title="Permalink to this headline"class=headerlink href=#plot-the-mesh-and-the-sample-locations>¶</a></h2><div class="highlight-default notranslate"><div class=highlight><pre><span></span><a class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure title=matplotlib.figure.Figure><span class=n>fig</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure title=matplotlib.pyplot.figure><span class=n>plt</span><span class=o>.</span><span class=n>figure</span></a><span class=p>()</span>
<span class=n>ax</span> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot title=matplotlib.pyplot.subplot><span class=n>plt</span><span class=o>.</span><span class=n>subplot</span></a><span class=p>(</span><span class=n>projection</span><span class=o>=</span><span class=s1>'3d'</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>view_init</span><span class=p>(</span><span class=mi>67</span><span class=p>,</span> <span class=o>-</span><span class=mi>42</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>plot_trisurf</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>x</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>z</span></a><span class=p>,</span> <span class=n>triangles</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>,</span> <span class=n>alpha</span><span class=o>=.</span><span class=mi>6</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>plot_trisurf</span><span class=p>(</span><span class=o>*</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>inner_mesh</span></a><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>T</span><span class=p>,</span> <span class=n>triangles</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter title=matplotlib.axes.Axes.scatter><span class=n>ax</span><span class=o>.</span><span class=n>scatter</span></a><span class=p>(</span><span class=o>*</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>nested_sample_points</span><span class=o>.</span><span class=n>T</span></a><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>'r'</span><span class=p>)</span>

<span class=k>for</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>sample_points</span></a> <span class=ow>in</span> <span class=p>[</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>line_sample_points</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>ball_sample_points</span></a><span class=p>]:</span>
    <a class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure title=matplotlib.figure.Figure><span class=n>fig</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure title=matplotlib.pyplot.figure><span class=n>plt</span><span class=o>.</span><span class=n>figure</span></a><span class=p>()</span>
    <span class=n>ax</span> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot title=matplotlib.pyplot.subplot><span class=n>plt</span><span class=o>.</span><span class=n>subplot</span></a><span class=p>(</span><span class=n>projection</span><span class=o>=</span><span class=s1>'3d'</span><span class=p>)</span>
    <span class=n>ax</span><span class=o>.</span><span class=n>view_init</span><span class=p>(</span><span class=mi>67</span><span class=p>,</span> <span class=o>-</span><span class=mi>42</span><span class=p>)</span>
    <span class=n>ax</span><span class=o>.</span><span class=n>plot_trisurf</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>x</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>z</span></a><span class=p>,</span> <span class=n>triangles</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>)</span>
    <a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter title=matplotlib.axes.Axes.scatter><span class=n>ax</span><span class=o>.</span><span class=n>scatter</span></a><span class=p>(</span><span class=o>*</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>sample_points</span><span class=o>.</span><span class=n>T</span></a><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>'r'</span><span class=p>)</span>
</pre></div></div><ul class=sphx-glr-horizontal><li><img alt="plot surface projection strategies"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_surface_projection_strategies_001.png srcset=../../_images/sphx_glr_plot_surface_projection_strategies_001.png></li><li><img alt="plot surface projection strategies"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_surface_projection_strategies_002.png srcset=../../_images/sphx_glr_plot_surface_projection_strategies_002.png></li><li><img alt="plot surface projection strategies"class=sphx-glr-multi-img src=../../_images/sphx_glr_plot_surface_projection_strategies_003.png srcset=../../_images/sphx_glr_plot_surface_projection_strategies_003.png></li></ul></div><div class=section id=adjust-the-sample-locations><h2><span class=section-number>9.2.12.4. </span>Adjust the sample locations<a title="Permalink to this headline"class=headerlink href=#adjust-the-sample-locations>¶</a></h2><blockquote><div><p>For “line” and nested surfaces, the depth parameter allows adjusting the position of samples along the line</p></div></blockquote><div class="highlight-default notranslate"><div class=highlight><pre><span></span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>nested_sample_points</span></a> <span class=o>=</span> <span class=n>surface</span><span class=o>.</span><span class=n>_sample_locations_between_surfaces</span><span class=p>(</span>
    <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>inner_mesh</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"href=https://numpy.org/doc/stable/reference/generated/numpy.eye.html#numpy.eye title=numpy.eye><span class=n>np</span><span class=o>.</span><span class=n>eye</span></a><span class=p>(</span><span class=mi>4</span><span class=p>),</span> <span class=n>depth</span><span class=o>=</span><span class=p>[</span><span class=o>-.</span><span class=mi>5</span><span class=p>,</span> <span class=mf>0.</span><span class=p>,</span> <span class=o>.</span><span class=mi>8</span><span class=p>,</span> <span class=mf>1.</span><span class=p>,</span> <span class=mf>1.2</span><span class=p>])</span>
<a class="sphx-glr-backref-module-matplotlib-figure sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure title=matplotlib.figure.Figure><span class=n>fig</span></a> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure title=matplotlib.pyplot.figure><span class=n>plt</span><span class=o>.</span><span class=n>figure</span></a><span class=p>()</span>
<span class=n>ax</span> <span class=o>=</span> <a class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplot.html#matplotlib.pyplot.subplot title=matplotlib.pyplot.subplot><span class=n>plt</span><span class=o>.</span><span class=n>subplot</span></a><span class=p>(</span><span class=n>projection</span><span class=o>=</span><span class=s1>'3d'</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>view_init</span><span class=p>(</span><span class=mi>67</span><span class=p>,</span> <span class=o>-</span><span class=mi>42</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>plot_trisurf</span><span class=p>(</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>x</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>y</span></a><span class=p>,</span> <a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>z</span></a><span class=p>,</span> <span class=n>triangles</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>,</span> <span class=n>alpha</span><span class=o>=.</span><span class=mi>6</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>plot_trisurf</span><span class=p>(</span><span class=o>*</span><a class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://docs.python.org/3.8/library/stdtypes.html#list title=builtins.list><span class=n>inner_mesh</span></a><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>T</span><span class=p>,</span> <span class=n>triangles</span><span class=o>=</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>triangulation</span><span class=o>.</span><span class=n>triangles</span></a><span class=p>)</span>
<a class="sphx-glr-backref-module-matplotlib-axes sphx-glr-backref-type-py-method"href=https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter title=matplotlib.axes.Axes.scatter><span class=n>ax</span><span class=o>.</span><span class=n>scatter</span></a><span class=p>(</span><span class=o>*</span><a class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray title=numpy.ndarray><span class=n>nested_sample_points</span><span class=o>.</span><span class=n>T</span></a><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>'r'</span><span class=p>)</span>

<a class="sphx-glr-backref-module-nilearn-plotting sphx-glr-backref-type-py-function"href=../../modules/generated/nilearn.plotting.show.html#nilearn.plotting.show title=nilearn.plotting.show><span class=n>show</span></a><span class=p>()</span>
</pre></div></div><img alt="plot surface projection strategies"class=sphx-glr-single-img src=../../_images/sphx_glr_plot_surface_projection_strategies_004.png srcset=../../_images/sphx_glr_plot_surface_projection_strategies_004.png><p class=sphx-glr-timing><strong>Total running time of the script:</strong> ( 0 minutes 0.878 seconds)</p><p><strong>Estimated memory usage:</strong> 9 MB</p><div class="sphx-glr-footer class sphx-glr-footer-example docutils container"id=sphx-glr-download-auto-examples-01-plotting-plot-surface-projection-strategies-py><div class="binder-badge docutils container"><a class="reference external image-reference"href=https://mybinder.org/v2/gh/nilearn/nilearn.github.io/main?filepath=examples/auto_examples/01_plotting/plot_surface_projection_strategies.ipynb><img alt="Launch binder"src=../../_images/binder_badge_logo.svg width=150px></a></div><div class="sphx-glr-download sphx-glr-download-python docutils container"><p><a class="reference download internal"download href=../../_downloads/0ddd8df13e1163e78fa0a1b381f453cd/plot_surface_projection_strategies.py><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Python</span> <span class=pre>source</span> <span class=pre>code:</span> <span class=pre>plot_surface_projection_strategies.py</span></code></a></p></div><div class="sphx-glr-download sphx-glr-download-jupyter docutils container"><p><a class="reference download internal"download href=../../_downloads/86209da35571218f88badf29f7fb7dcb/plot_surface_projection_strategies.ipynb><code class="xref download docutils literal notranslate"><span class=pre>Download</span> <span class=pre>Jupyter</span> <span class=pre>notebook:</span> <span class=pre>plot_surface_projection_strategies.ipynb</span></code></a></p></div></div><p class=sphx-glr-signature><a class="reference external"href=https://sphinx-gallery.github.io>Gallery generated by Sphinx-Gallery</a></p></div></div><div class=clearer></div></div></div></div><div aria-label="main navigation"class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><h4>Giving credit</h4><ul class=simple><li><p>Please consider <a href=../../authors.html#citing>citing the papers</a>.</p></li></ul><h3><a href=../../index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>9.2.12. Technical point: Illustration of the volume to surface sampling schemes</a><ul><li><a class="reference internal"href=#build-a-mesh-of-a-cylinder>9.2.12.1. Build a mesh (of a cylinder)</a></li><li><a class="reference internal"href=#get-the-locations-from-which-vol-to-surf-would-draw-its-samples>9.2.12.2. Get the locations from which vol_to_surf would draw its samples</a></li><li><a class="reference internal"href=#plot-the-mesh-and-the-sample-locations>9.2.12.3. Plot the mesh and the sample locations</a></li><li><a class="reference internal"href=#adjust-the-sample-locations>9.2.12.4. Adjust the sample locations</a></li></ul></li></ul><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=plot_haxby_masks.html><span class=section-number>9.2.11. </span>Plot Haxby masks</a></p><h4>Next topic</h4><p class=topless><a title="next chapter"href=plot_demo_plotting.html><span class=section-number>9.2.13. </span>Plotting tools in nilearn</a></p><div id=searchbox role=search style=display:none><h3 id=searchlabel>Quick search</h3><div class=searchformwrapper><form action=../../search.html class=search><input aria-labelledby=searchlabel name=q><input type=submit value=Go></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class=clearer></div></div><div class=footer>© The nilearn developers 2010-2022. Created using <a href=http://sphinx.pocoo.org/>Sphinx</a> 4.0.2. <span style=padding-left:5ex> <a href=../../_sources/auto_examples/01_plotting/plot_surface_projection_strategies.rst.txt rel=nofollow>Show this page source</a> </span></div></body></html>